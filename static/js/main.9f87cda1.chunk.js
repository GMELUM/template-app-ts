(this.webpackJsonpanonim_app_front=this.webpackJsonpanonim_app_front||[]).push([[0],{104:function(e,t,n){"use strict";function r(e){if("string"!==typeof e)throw new Error("string cannot be undefined or null");for(var t=[],n=0,r=0;n<e.length;)l(e[n+(r+=c(n+r,e))])&&r++,i(e[n+r])&&r++,u(e[n+r])&&r++,d(e[n+r])?r++:(t.push(e.substring(n,n+r)),n+=r,r=0);return t}function c(e,t){var n=t[e];if(!a(n)||e===t.length-1)return 1;var r=n+t[e+1],c=t.substring(e+2,e+5);return o(r)&&o(c)||s(c)?4:2}function a(e){return e&&b(e[0].charCodeAt(0),t.HIGH_SURROGATE_START,t.HIGH_SURROGATE_END)}function o(e){return b(j(e),t.REGIONAL_INDICATOR_START,t.REGIONAL_INDICATOR_END)}function s(e){return b(j(e),t.FITZPATRICK_MODIFIER_START,t.FITZPATRICK_MODIFIER_END)}function i(e){return"string"===typeof e&&b(e.charCodeAt(0),t.VARIATION_MODIFIER_START,t.VARIATION_MODIFIER_END)}function u(e){return"string"===typeof e&&b(e.charCodeAt(0),t.DIACRITICAL_MARKS_START,t.DIACRITICAL_MARKS_END)}function l(e){return"string"===typeof e&&-1!==t.GRAPHEMS.indexOf(e.charCodeAt(0))}function d(e){return"string"===typeof e&&e.charCodeAt(0)===t.ZWJ}function j(e){return(e.charCodeAt(0)-t.HIGH_SURROGATE_START<<10)+(e.charCodeAt(1)-t.LOW_SURROGATE_START)+65536}function b(e,t,n){return e>=t&&e<=n}function h(e,t,n){var c=r(e);if(void 0===t)return e;if(t>=c.length)return"";var a=c.length-t,o=t+(void 0===n?a:n);return o>t+a&&(o=void 0),c.slice(t,o).join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.substr=t.substring=t.betweenInclusive=t.codePointFromSurrogatePair=t.isZeroWidthJoiner=t.isGraphem=t.isDiacriticalMark=t.isVariationSelector=t.isFitzpatrickModifier=t.isRegionalIndicator=t.isFirstOfSurrogatePair=t.nextUnits=t.runes=t.GRAPHEMS=t.ZWJ=t.DIACRITICAL_MARKS_END=t.DIACRITICAL_MARKS_START=t.VARIATION_MODIFIER_END=t.VARIATION_MODIFIER_START=t.FITZPATRICK_MODIFIER_END=t.FITZPATRICK_MODIFIER_START=t.REGIONAL_INDICATOR_END=t.REGIONAL_INDICATOR_START=t.LOW_SURROGATE_START=t.HIGH_SURROGATE_END=t.HIGH_SURROGATE_START=void 0,t.HIGH_SURROGATE_START=55296,t.HIGH_SURROGATE_END=56319,t.LOW_SURROGATE_START=56320,t.REGIONAL_INDICATOR_START=127462,t.REGIONAL_INDICATOR_END=127487,t.FITZPATRICK_MODIFIER_START=127995,t.FITZPATRICK_MODIFIER_END=127999,t.VARIATION_MODIFIER_START=65024,t.VARIATION_MODIFIER_END=65039,t.DIACRITICAL_MARKS_START=8400,t.DIACRITICAL_MARKS_END=8447,t.ZWJ=8205,t.GRAPHEMS=[776,2359,2359,2367,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520],t.runes=r,t.nextUnits=c,t.isFirstOfSurrogatePair=a,t.isRegionalIndicator=o,t.isFitzpatrickModifier=s,t.isVariationSelector=i,t.isDiacriticalMark=u,t.isGraphem=l,t.isZeroWidthJoiner=d,t.codePointFromSurrogatePair=j,t.betweenInclusive=b,t.substring=h,t.substr=h,r.substr=h,r.substring=h,r.default=r,r.runes=r,Object.defineProperty(r,"__esModule",{value:!0}),t.default=r},15:function(e,t,n){"use strict";var r=n(30),c=n(78),a=function(e,t){return function(n,r){return n({type:e,payload:{client:t.client}})}},o=function(e,t){return function(n,r){return n({type:e,payload:t.popout})}},s=n(17),i=n.n(s),u=function(e,t){return function(n,r){i.a.send("VKWebAppStorageSet",{key:t.key,value:"".concat(t.value)}),n({type:e,payload:{key:t.key,value:t.value}})}},l=function e(t,n){return function(c,a){i.a.send("VKWebAppStorageGet",{keys:["mySex","searchSex","myAge","searchAge","settingTextSize","settingSheme","settingWakeLock","settingGreeting","settingVibration","settingBackground","settingIntensity","settingColor"]}).then((function(e){var n={};e.keys.forEach((function(e){n["".concat(e.key)]="false"===e.value?void 0:e.value})),c({type:t,payload:Object(r.a)({},n)}),document.body.style.fontSize="".concat(n.settingTextSize||16,"px"),S("UPDATE_SHEME",{sheme:n.settingSheme||"auto"})(c,a),i.a.send("VKWebAppInit")})).catch((function(){e(t,n)(c,a)}))}},d=function(e,t){return function(n,r){var c=new Date,a=c.getHours()>9?"".concat(c.getHours()):"0".concat(c.getHours()),o=c.getMinutes()>9?"".concat(c.getMinutes()):"0".concat(c.getMinutes()),s={author:t.author,time:"".concat(a,":").concat(o),key:t.key,message:{value:null===t||void 0===t?void 0:t.message,attach:null===t||void 0===t?void 0:t.attach}};n({type:e,payload:{message:s}})}},j=n(59),b=function(e,t){return function(e,n){var r=Object(j.a)(),c=n().app.client;null===c||void 0===c||c.emit("SEND_MESSAGE",{key:r,message:{value:t.message}})}},h=n(155),p=function(e,t){return function(n,c){var a,o=c().app.appStory;if((null===(a=o[o.length-1])||void 0===a?void 0:a.page)>(t.page||0))return f("BACK_PAGE",{})(n,c);var s,i=Object.keys(o[o.length-1]).reverse(),u=Object(h.a)(i);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(!t[l])break;switch(l){case"value":t[l]=0;break;case"modal":t[l]="";break;case"page":t[l]=0;break;case"panel":case"view":t[l]=""}}}catch(j){u.e(j)}finally{u.f()}var d=Object(r.a)(Object(r.a)({},o[o.length-1]),t);o[o.length-1].panel!==t.panel&&n({type:e,payload:{save:void 0===t.view,activeState:d}}),window.history.pushState(d,JSON.stringify(d))}},f=function(e,t){return function(n,r){var c=r().app;if(window.history.pushState(e,JSON.stringify(t)),c.popout&&!t.miss)o("POPOUT",{popout:void 0})(n,r);else if((c.chat_keyboard||c.chat_attach||c.chat_emoji)&&!t.miss)w("CHAT_STATE",{keyboard:!1,attach:!1,emoji:!1})(n,r);else if("Chat"!==c.activePanel||t.miss){l("GET_USER_PARAM",{})(n,r);var a=r().app.appStory;(null===a||void 0===a?void 0:a.length)&&(1===a.length?i.a.send("VKWebAppClose",{status:"success"}):1!==a.length&&(a.pop(),window.setTimeout((function(){n({type:e,payload:{view:a[a.length-1].view,panel:a[a.length-1].panel,page:a[a.length-1].page,modal:a[a.length-1].modal,value:a[a.length-1].value,appStory:a}})}),150),window.setTimeout((function(){o("POPOUT",{popout:""})(n,r),o("POPOUT",{popout:void 0})(n,r)}),210)))}else o("POPOUT",{popout:"CloseDialog"})(n,r)}},O=function(e,t){return function(t,n){return t({type:e,payload:{}})}},m=function(e,t){return function(n,r){return n({type:e,payload:t.sending})}},v=n(55),_=n.n(v),g=function(e,t){return function(n,r){if(t.blob){var c=r().app.client,a=new FormData;a.append("file",t.blob);var o=URL.createObjectURL(t.blob);_()({method:"post",url:"https://cld.vkma.ru/upload",data:a,onUploadProgress:function(t){n({type:e,payload:{attach:{blob:o,progress:Math.round(100*t.loaded/t.total),url:void 0}}})}}).then((function(t){if(200===t.status){var a=t.data.url;n({type:e,payload:{attach:void 0}}),null===c||void 0===c||c.emit("SEND_MESSAGE",{message:{attach:a}}),d("MESSAGE_ADD",{key:Object(j.a)(),author:"my",attach:a})(n,r)}}))}}},x=function(e,t){return function(n,r){if(t.title)n({type:e,payload:t.title});else{var c=void 0;i.a.send("VKWebAppStorageGet",{keys:["AnonimCountUsers"]}).then((function(r){c=r.keys[0].value?"".concat(Number(r.keys[0].value)+(t.isSave?1:0)):"1",t.isSave&&i.a.send("VKWebAppStorageSet",{key:"AnonimCountUsers",value:c}),n({type:e,payload:"\u0421\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a #".concat(c)})}))}}},k=function(e,t){return function(n,r){return n({type:e,payload:t.count})}},y=function(e,t){return function(n,r){document.body.style.fontSize="".concat(t.size,"px"),n({type:e,payload:t.size})}},S=function(e,t){return function(n,r){var c="dark",a="#ffff";switch(t.sheme){case"space_gray":c="light",a="#19191a";break;case"client_light":c="dark",a="#ffff";break;case"blue_scheme":c="light",a="#141d24";break;case"dark_scheme":c="light",a="#1a1b1d";break;case"light_purple_scheme":c="dark",a="#ffff";break;case"purple_scheme":c="light",a="#0d0d0d"}"auto"!==t.sheme?(i.a.supports("VKWebAppSetViewSettings")&&i.a.send("VKWebAppSetViewSettings",{status_bar_style:c,action_bar_color:a}),document.body.setAttribute("scheme",t.sheme)):document.body.setAttribute("scheme_auto","auto"),n({type:e,payload:t.sheme})}},C=n(49),A=function(e,t){return function(e,n){i.a.send("VKWebAppStorageGet",{keys:["settingTextSize","settingSheme","settingBackground","settingColor","settingIntensity","settingWakeLock","settingGreeting","settingVibration"]}).then((function(e){var n={};e.keys.forEach((function(e){n=Object(r.a)(Object(r.a)({},n),{},Object(C.a)({},e.key,e.value))})),n.settingTextSize!=="".concat(t.size||"false")&&i.a.send("VKWebAppStorageSet",{key:"settingTextSize",value:"".concat(t.size||"false")}),n.settingSheme!=="".concat(t.sheme||"false")&&i.a.send("VKWebAppStorageSet",{key:"settingSheme",value:"".concat(t.sheme||"false")}),n.settingBackground!=="".concat(t.background||"false")&&i.a.send("VKWebAppStorageSet",{key:"settingBackground",value:"".concat(t.background||"false")}),n.settingColor!=="".concat(t.color||"false")&&i.a.send("VKWebAppStorageSet",{key:"settingColor",value:"".concat(t.color||"false")}),n.settingIntensity!=="".concat(t.intensity||"false")&&i.a.send("VKWebAppStorageSet",{key:"settingIntensity",value:"".concat(t.intensity||"false")}),n.settingWakeLock!=="".concat(t.wakeLock?"true":"false")&&i.a.send("VKWebAppStorageSet",{key:"settingWakeLock",value:"".concat(t.wakeLock?"true":"false")}),n.settingGreeting!=="".concat(t.greeting?"true":"false")&&i.a.send("VKWebAppStorageSet",{key:"settingGreeting",value:"".concat(t.greeting?"true":"false")}),n.settingVibration!=="".concat(t.vibration?"true":"false")&&i.a.send("VKWebAppStorageSet",{key:"settingVibration",value:"".concat(t.vibration?"true":"false")})}))}},E=function(e,t){return function(n,r){return n({type:e,payload:t.snackbar})}},T=function(e,t){return function(n,r){return n({type:e,payload:t.value})}},N=function(e,t){return function(n,r){return n({type:e,payload:t.value})}},M=function(e,t){return function(n,r){return n({type:e,payload:t.value})}},I=function(e,t){return function(e,n){i.a.supports("VKWebAppTapticNotificationOccurred")&&!n().app.checkVibration&&i.a.send("VKWebAppTapticNotificationOccurred",{type:t.type})}},P=function(e,t){return function(e,n){n().app.chat.find((function(e){return"my"===e.author}))||!i.a.supports("VKWebAppAccelerometerStart")||n().app.checkGreeting||i.a.send("VKWebAppAccelerometerStart",{refresh_rate:t.refresh_rate})}},R=function(e,t){return function(e,t){i.a.supports("VKWebAppAccelerometerStop")&&i.a.send("VKWebAppAccelerometerStop")}},w=function(e,t){return function(n,r){return n({type:e,payload:t})}},D=function(e,t){return function(n,r){var c=Object.keys(t);c.forEach((function(r,a){n({type:e,payload:{key:r,value:t[c[a]]}})}))}},L=function(e,t){return function(n,r){switch(e){case"CHAT_STATE":return w(e,t)(n,r);case"START_ACCELEROMETER":return P(e,t)(n,r);case"STOP_ACCELEROMETER":return R(e,t)(n,r);case"TAPTIC":return I(e,t)(n,r);case"CHECK_WAKE_LOCK":return T(e,t)(n,r);case"CHECK_GREETING":return N(e,t)(n,r);case"CHECK_VIBRATION":return M(e,t)(n,r);case"SNACKBAR":return E(e,t)(n,r);case"SETTING_SAVE":return A(e,t)(n,r);case"INIT_CLIENT":return a(e,t)(n,r);case"POPOUT":return o(e,t)(n,r);case"SET_USER_PARAM":return u(e,t)(n,r);case"GET_USER_PARAM":return l(e,t)(n,r);case"MESSAGE_ADD":return d(e,t)(n,r);case"MESSAGE_SEND":return b(e,t)(n,r);case"NEXT_PAGE":return p(e,t)(n,r);case"BACK_PAGE":return f(e,t)(n,r);case"CHAT_CLEAR":return O(e,t)(n,r);case"SENDING":return m(e,t)(n,r);case"SEND_IMAGE":return g(e,t)(n,r);case"TITLE_CHAT":return x(e,t)(n,r);case"SET_COUNT_ONLINE_USER":return k(e,t)(n,r);case"SET_TEXT_SIZE":return y(e,t)(n,r);case"UPDATE_SHEME":return S(e,t)(n,r);case"ALL":return D(e,t)(n,r);default:console.log("Controller ".concat(e," was not found!"))}}},G=Object(c.b)((function(e){return Object(r.a)({},e.app)}),(function(e){return{action:function(t,n){return e(L(t,n))}}}));t.a=function(e){return G(e)}},167:function(e,t,n){"use strict";(function(e){var r=n(11),c=n(14),a=n(13),o=n(12),s=n(0),i=n(15),u=n(53),l=n.n(u),d=n(168),j=(n(358),n(3)),b=n(34),h=n(1),p=function(t){Object(a.a)(s,t);var n=Object(o.a)(s);function s(t){var c;Object(r.a)(this,s),c=n.call(this,t),t.action("GET_USER_PARAM",{});var a=new URL(window.location.href),o=e.from(a.search.slice(1)).toString("base64").replace(/[a-z]/gi,(function(e){return/[a-z]/.test(e)?e.toUpperCase():e.toLowerCase()}));return t.action("ALL",{token:o}),new d.a(t,{auth:{token:o},transports:["websocket"],upgrade:!0,rememberUpgrade:!0,autoConnect:!0,RenectionDelay:2e3,reconnectionDelayMax:2e3,closeOnBeforeunload:!0}),c.state={},c}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",(function(){return e.props.action("BACK_PAGE",{})}))}},{key:"render",value:function(){var e=this.props,t=e.activePanel,n=e.checkWakeLock,r=e.stories,c=e.blocked,a=e.platform;return Object(h.jsxs)(h.Fragment,{children:[c&&Object(h.jsx)(b.g,{}),!c&&Object(h.jsxs)(h.Fragment,{children:[n&&a!=j.p&&Object(h.jsx)(j.K,{children:Object(h.jsx)("div",{className:"WakeLock__indicator"})}),r&&Object(h.jsx)("div",{className:"Overlay",children:r}),Object(h.jsxs)(j.J,{activePanel:t,popout:this.props.popout,children:[Object(h.jsx)(b.t,{id:"Filter"}),Object(h.jsx)(b.h,{id:"Chat"}),Object(h.jsx)(b.C,{id:"Settings"}),Object(h.jsx)(b.D,{id:"SettingOthers"}),Object(h.jsx)(b.B,{id:"SettingBackground"})]}),this.props.snackbar]})]})}}]),s}(s.Component);t.a=Object(i.a)(l()(p))}).call(this,n(137).Buffer)},168:function(e,t,n){"use strict";var r=n(11),c=n(14),a=n(169),o=n(3),s=n(360),i=n(34),u=n(1),l=function(){function e(t,n){Object(r.a)(this,e),this.timer=void 0,this.link=function(e){var t=document.createElement("a");t.href=e,t.target="_blank",t.click()},(0,t.action)("INIT_CLIENT",{client:this.engine(t,n)})}return Object(c.a)(e,[{key:"engine",value:function(e,t){var n,r=this,c=e.action;return(n=Object(a.io)("https://anonim.vkma.ru",t)).on("START_PARAM",(function(e){return c("ALL",e)})),n.on("stories",(function(e){e.forEach((function(t,n){return t.stories.forEach((function(t,c){if(t.controll){var a=t.controll.link,s=t.controll.name;e[n].stories[c].controll=Object(u.jsx)("div",{style:{margin:"6px 12px"},children:Object(u.jsx)(o.f,{size:"xl",stretched:!0,onClick:function(){r.link(a)},children:s})})}}))})),c("ALL",{dataStories:e})})),n.on("connect_error",(function(e){c("POPOUT",{popout:Object(u.jsx)(i.y,{})})})),n.on("disconnect",(function(){c("POPOUT",{popout:Object(u.jsx)(i.y,{})})})),n.on("connect",(function(){c("POPOUT",{popout:void 0})})),n.on("JOIN_ROOM",(function(e){c("TAPTIC",{type:"warning"}),c("TITLE_CHAT",{isSave:!0}),c("POPOUT",{popout:void 0}),c("NEXT_PAGE",{panel:"Chat"}),c("ALL",{room:e.room})})),n.on("LEAVE_ROOM",(function(){c("POPOUT",{popout:Object(u.jsx)(i.u,{})}),c("STOP_ACCELEROMETER",{})})),n.on("SENDING",(function(){c("TITLE_CHAT",{title:"\u0421\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a \u043f\u0438\u0448\u0435\u0442 ..."}),c("SENDING",{sending:!0}),r.timer&&window.clearTimeout(r.timer),r.timer=window.setTimeout((function(){c("TITLE_CHAT",{}),c("SENDING",{sending:!1})}),7e3)})),n.on("LIMIT",(function(){c("POPOUT",{popout:Object(u.jsx)(i.f,{children:Object(u.jsx)("div",{className:"Limit__banner",children:Object(u.jsx)(o.x,{icon:Object(u.jsx)(s.a,{width:80,height:80}),header:"\u0427\u0435\u0440\u0435\u0437\u043c\u0435\u0440\u043d\u0430\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",children:"\u041c\u044b \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u043b\u0438 \u0432\u044b\u0441\u043e\u043a\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0443\u044e \u043e\u0442 \u0432\u0430\u0441! \u0417\u043b\u043e\u0443\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u0430 \u043c\u043e\u0433\u0443\u0442 \u043f\u043e\u0432\u043b\u0435\u0447\u044c \u0437\u0430 \u0441\u043e\u0431\u043e\u0439 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0443!"})})})})})),n.on("ONLINE_USER",(function(e){c("SET_COUNT_ONLINE_USER",{count:e})})),n.on("GET_PROFILE",(function(e){var t=document.createElement("a");t.href="https://vk.com/id".concat(e),t.target="_blank",t.click()})),n.on("BLOCKED",(function(e){c("ALL",{blocked:e})})),window.setInterval((function(){n.emit("PING",{})}),5e3),n}}]),e}();t.a=l},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return G})),n.d(t,"h",(function(){return re})),n.d(t,"i",(function(){return oe})),n.d(t,"j",(function(){return ie})),n.d(t,"k",(function(){return ue})),n.d(t,"m",(function(){return ge})),n.d(t,"n",(function(){return ye})),n.d(t,"o",(function(){return Ae})),n.d(t,"p",(function(){return Ne})),n.d(t,"q",(function(){return Ie})),n.d(t,"r",(function(){return Re})),n.d(t,"s",(function(){return Le})),n.d(t,"t",(function(){return Ke})),n.d(t,"u",(function(){return Ve})),n.d(t,"v",(function(){return We})),n.d(t,"w",(function(){return xt})),n.d(t,"G",(function(){return _t})),n.d(t,"H",(function(){return vt})),n.d(t,"x",(function(){return yt})),n.d(t,"z",(function(){return At})),n.d(t,"A",(function(){return Tt})),n.d(t,"B",(function(){return Mt})),n.d(t,"C",(function(){return Pt})),n.d(t,"D",(function(){return wt})),n.d(t,"E",(function(){return Lt})),n.d(t,"F",(function(){return Ht})),n.d(t,"y",(function(){return Kt})),n.d(t,"e",(function(){return Wt})),n.d(t,"f",(function(){return Zt})),n.d(t,"l",(function(){return qt}));var r=n(11),c=n(14),a=n(13),o=n(12),s=n(0),i=n.n(s),u=n(15),l=n(53),d=n.n(l),j=n(17),b=n.n(j),h=n(3),p=n(362),f=n(363),O=n(364),m=n(365),v=n(1),_=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).remoteMessage=function(){var t=e.props,n=t.client,r=t.postID;null===n||void 0===n||n.emit("REMOTE_MESSAGE",r)},e.copyMessage=function(){b.a.send("VKWebAppCopyText",{text:e.props.text})},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.onEdit,c=t.onAnswer,a=t.author,o=t.platform;return Object(v.jsxs)(h.a,{onClose:function(){return n("POPOUT",{popout:void 0})},children:[Object(v.jsx)(h.b,{before:Object(v.jsx)(p.a,{}),onClick:c,autoclose:!0,children:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c"}),Object(v.jsx)(h.b,{before:Object(v.jsx)(f.a,{}),onClick:function(){return e.copyMessage()},autoclose:!0,children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),"my"===a&&Object(v.jsx)(h.b,{before:Object(v.jsx)(O.a,{}),onClick:r,autoclose:!0,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),"my"===a&&Object(v.jsx)(h.b,{before:Object(v.jsx)(m.a,{color:"red"}),onClick:function(){return e.remoteMessage()},autoclose:!0,mode:"destructive",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),o===h.p&&Object(v.jsx)(h.b,{autoclose:!0,mode:"cancel",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})}}]),n}(s.Component),g=Object(u.a)(d()(_)),x=n(55),k=n.n(x),y=n(366),S=n(367),C=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).fileRef=void 0,c.sendingFileToCloud=function(){var e=c.props.room,t=c.fileRef.current.files;if(t&&e){var n=new FormData;n.append("file",t[0]),n.append("room",e);var r=URL.createObjectURL(t[0]);k()({method:"post",url:"https://cloud.vkma.ru/upload",headers:{Authorization:c.props.token},data:n,onUploadProgress:function(e){var t=Math.round(100*e.loaded/e.total);c.setState({attachFile:r,attachProgress:100===t?99:t})}}).then((function(e){if(200===e.status){var t=e.data.url;(0,c.props.onFiles)(t)}else{(0,c.props.onFiles)(void 0)}}))}},c.state={},c.fileRef=i.a.createRef(),c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.attachFile,r=t.attachProgress;return Object(v.jsx)("div",{className:"Attach",children:Object(v.jsxs)(h.o,{children:[n&&r&&Object(v.jsx)("div",{className:"CircleButton",children:Object(v.jsxs)("div",{className:"Attach_preview",children:[Object(v.jsx)("div",{className:"Banner__dismissIcon",style:{width:"26px",height:"26px",color:"white"},onClick:function(){e.props.onFiles(void 0),e.setState({attachFile:void 0,attachProgress:void 0})},children:Object(v.jsx)(y.a,{})}),r&&100!==r&&Object(v.jsx)("div",{className:"Attach_progress",children:r}),Object(v.jsx)("img",{alt:"",src:n})]})}),!n&&!r&&Object(v.jsx)("div",{className:"Attach",children:Object(v.jsx)(oe,{type:"file",getRef:this.fileRef,color:"#4d9dff",icons:Object(v.jsx)(S.a,{width:32,height:32}),onClick:function(){var t;null===(t=e.fileRef.current)||void 0===t||t.click()},onChange:function(){return e.sendingFileToCloud()}})})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.url&&e.url!==t.attachFile?{attachFile:e.url,attachProgress:100}:null}}]),n}(s.Component),A=Object(u.a)(C),E=n(39),T=n.n(E),N=n(52),M=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"hexToRgb",value:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})).replace("#","");var t=parseInt(e,16);return"rgb(".concat((t>>16&255)+","+(t>>8&255)+","+(255&t),")")}},{key:"getColor",get:function(){return[void 0,"#000000","#ffffff","#f34336","#e71e62","#374047","#9c28b1","#3f51b5","#2196f3","#03a9f3","#00bcd2","#009788","#4cb050","#8bc24a","#ccdb3a","#feea3b","#fdc006","#fd9800","#fe5722","#795547","#9e9e9e","#607d8b"]}},{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.colorBackground,c=t.intensityBackground,a=t.background,o=t.donut,s=this.getColor;return Object(v.jsxs)("div",{children:[Object(v.jsx)(h.m,{id:"Others_settings_app",header:Object(v.jsx)(h.n,{mode:"secondary",children:"\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),children:Object(v.jsxs)(h.j,{className:"Flex",children:[Object(v.jsx)(h.B,{step:1,min:1,max:100,value:Number(c)||100,onChange:function(){var e=Object(N.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n("ALL",{intensityBackground:"".concat(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(v.jsx)("div",{className:"Slider__indicator",children:Number(c)||100})]})}),Object(v.jsx)(h.A,{className:"Separator__margin"}),Object(v.jsx)(h.h,{children:s.map((function(e,t){return Object(v.jsx)(ue,{color:e,selected:r===e,onClick:function(){return n("ALL",{colorBackground:e})}},"color_bt_".concat(t))}))}),Object(v.jsx)(h.A,{className:"Separator__margin"}),Object(v.jsxs)(h.h,{children:[Object(v.jsx)(w,{name:"",selected:void 0===a,onClick:function(){return n("ALL",{background:void 0,base64Background:void 0})}},"bg_bt_-1"),o&&_t&&_t.map((function(e,t){return Object(v.jsx)(w,{name:e,selected:a===e,onClick:function(){return n("ALL",{background:e})}},"bg_bt_".concat(t))})),vt&&vt.map((function(e,t){return Object(v.jsx)(w,{name:e,selected:a===e,onClick:function(){return n("ALL",{background:e})}},"bg_bt_".concat(t))})),!o&&Object(v.jsx)(w,{disableIndicator:!0,name:"donut",onClick:function(){return n("POPOUT",{popout:Object(v.jsx)(Zt,{children:Object(v.jsxs)("div",{className:"Donut__box",children:[Object(v.jsx)("div",{className:"Donut__block",children:Object(v.jsx)(h.d,{src:"https://sun9-75.userapi.com/impg/XiAcWSc781qcNa62946mI9OkzuBJEvyvmGCJUA/hH4KuHLS9uY.jpg?size=576x576&quality=95&sign=ea6af0d9bb8fa882a81a4d0d40760702&type=album"})}),Object(v.jsx)("div",{className:"Donut__block",children:Object(v.jsx)(h.I,{level:"3",weight:"semibold",style:{marginBottom:6},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"})}),Object(v.jsx)("div",{className:"Donut__block",children:Object(v.jsx)(h.I,{level:"3",weight:"regular",style:{marginBottom:6,fontSize:"14px"},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u0432 \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438."})}),Object(v.jsxs)("div",{className:"Donut__list",children:[Object(v.jsx)(h.I,{level:"3",weight:"regular",style:{fontSize:"14px"},children:" \ud83c\udf69 \u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u044b. "}),Object(v.jsx)(h.I,{level:"3",weight:"regular",style:{fontSize:"14px"},children:" \ud83c\udf69 \u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u0432\u044b\u0431\u043e\u0440 \u0442\u0435\u043c \u0438 \u0444\u043e\u043d\u043e\u0432 \u0434\u043b\u044f \u0447\u0430\u0442\u0430. "}),Object(v.jsx)(h.I,{level:"3",weight:"regular",style:{fontSize:"14px"},children:" \ud83c\udf69 \u0420\u043e\u0437\u044b\u0433\u0440\u044b\u0448\u0438 \u0441\u0442\u0438\u043a\u0435\u0440\u043e\u0432 \u0441\u0440\u0435\u0434\u0438 Donut \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432. "}),Object(v.jsx)(h.I,{level:"3",weight:"regular",style:{fontSize:"14px"},children:" \ud83c\udf69 \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u043c \u0438\u0441\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b. "})]}),Object(v.jsx)("div",{className:"Donut_button",children:Object(v.jsx)(h.f,{mode:"overlay_primary",href:"https://vk.com/donut/club204427314",target:"_blank",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443"})})]})})})}},"bg_bt_donut")]}),Object(v.jsx)(h.A,{className:"Separator__margin"}),Object(v.jsxs)("div",{className:"Background__nav_ok_back",children:[Object(v.jsx)(h.f,{size:"l",mode:"tertiary",onClick:function(){return n("BACK_PAGE",{})},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(v.jsx)(h.f,{size:"l",mode:"tertiary",onClick:function(){n("SETTING_SAVE",{size:e.props.textSize,sheme:e.props.sheme,background:e.props.background,wakeLock:e.props.checkWakeLock,greeting:e.props.checkGreeting,vibration:e.props.checkVibration,color:e.props.colorBackground,intensity:e.props.intensityBackground}),n("SNACKBAR",{snackbar:Object(v.jsx)(At,{})})},children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]})]})}}]),n}(s.Component),I=Object(u.a)(M),P=n(368),R=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.name,r=e.selected,c=e.disableIndicator;return Object(v.jsxs)(h.g,{className:"BackgroundButton",children:[Object(v.jsx)("div",{className:"BackgroundButton__in",style:{color:"var(--im_bubble_outgoing)",opacity:"1"},onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return t()})),children:Object(v.jsx)(xt,{name:n})}),!c&&Object(v.jsx)("div",{className:"PreviewSheme__indicator",children:r&&Object(v.jsx)(P.a,{height:20,width:20})})]})}}]),n}(s.Component),w=Object(u.a)(R),D=n(369),L=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e))._timer=void 0,c.componentDidMount=function(){c._timer=window.setInterval((function(){return c.tf()}),250)},c.componentWillUnmount=function(){window.clearInterval(c._timer)},c.tf=function(){var e=c.props.blocked;if(e){var t=e,n=Math.floor(t-(new Date).getTime()),r=(n<10?0+n:n)/1e3,a=Math.floor(r/86400),o=Math.floor(0===a?r/3600:(r-24*a*3600*1e3)/3600),s=Math.floor(0===o?r/60:(r-60*o*60)/60),i=Math.floor(0===s?r:(r-60*s)%100);n<=0&&c.setState({time:"0 \u0434\u043d\u0435\u0439 00:00:00"}),n>0&&c.setState({time:"".concat(a," \u0434\u043d\u0435\u0439 ").concat(o,":").concat(s,":").concat(i)}),n<=0&&window.clearInterval(c._timer)}},c.openEULA=function(){var e=document.createElement("a");e.href="https://vk.com/@anonim_messenger-eula",e.target="_blank",e.click()},c.state={time:""},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state.time;return Object(v.jsx)(h.J,{activePanel:"blocked",children:Object(v.jsx)(h.r,{id:"blocked",children:Object(v.jsxs)(h.x,{icon:Object(v.jsx)(D.a,{}),header:"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",action:Object(v.jsx)(h.f,{size:"l",onClick:function(){return e.openEULA()},children:"\u041e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438"}),stretched:!0,children:["\u0414\u043e\u0441\u0442\u0443\u043f \u0431\u044b\u043b \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435\u043c \u043f\u0440\u0430\u0432\u0438\u043b. ",Object(v.jsx)("br",{})," \u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0434\u043b\u0438\u0442\u0441\u044f \u0435\u0449\u0435:",Object(v.jsx)("h1",{children:t})]})})})}}]),n}(s.Component),G=Object(u.a)(L),B=n(79),H=n(77),U=n.n(H),K=n(104),z=n.n(K),V=n(370),F=n(371),W=n(372),$=n(361),J=n(373),Z=function(e,t,n){if(e){var r=new Date,c=e.message.attach||"",a=r.getHours()>9?"".concat(r.getHours()):"0".concat(r.getHours()),o=r.getMinutes()>9?"".concat(r.getMinutes()):"0".concat(r.getMinutes());null===n||void 0===n||n.emit("MESSAGE_READ",e.key),t.set(e.key,{key:e.key,author:"you",time:"".concat(a,":").concat(o),read:!0,nsfw:!!c&&"NSFW"===c.replace("https://cloud.vkma.ru/","").substr(0,4),answer:e.answer,message:{value:e.message.value,attach:c}})}return t},X=n(30),q=n(59),Y=function(e,t,n,r,c){if(e||t){var a=Object(q.a)(),o=Object(q.a)(),s=new Date,i=s.getHours()>9?"".concat(s.getHours()):"0".concat(s.getHours()),u=s.getMinutes()>9?"".concat(s.getMinutes()):"0".concat(s.getMinutes());e&&(null===c||void 0===c||c.emit("SEND_MESSAGE",{key:a,answer:n,message:{value:e.substring(0,500)}})),t&&(null===c||void 0===c||c.emit("SEND_MESSAGE",{key:o,answer:n,message:{attach:t}}));var l={author:"my",time:"".concat(i,":").concat(u),read:!1,answer:n};e&&r.set(a,Object(X.a)(Object(X.a)({},l),{},{key:a,nsfw:!1,message:{value:e.substring(0,500)}})),t&&r.set(o,Object(X.a)(Object(X.a)({},l),{},{key:o,nsfw:!!t&&"NSFW"===t.replace("https://cloud.vkma.ru/","").substr(0,4),message:{attach:t}}))}return r},Q=function(e,t,n){var r=t.get(e);return r&&(r.read=!0,t.set(e,r)),t},ee=function(e,t){return e&&t.delete(e),t},te=function(e,t,n,r,c,a){if(e){var o=new Date,s=o.getHours()>9?"".concat(o.getHours()):"0".concat(o.getHours()),i=o.getMinutes()>9?"".concat(o.getMinutes()):"0".concat(o.getMinutes()),u=r.get(t);if(u){var l={key:u.key,author:u.author,answer:n,nsfw:!1,message:{value:e},time:"\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e ".concat(s,":").concat(i),read:!a};a&&(null===c||void 0===c||c.emit("EDIT_MESSAGE",l)),!a&&(null===c||void 0===c||c.emit("MESSAGE_READ",t)),r.set(t,l)}}return r},ne=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).menuRef=void 0,c.textareaRef=void 0,c.sendMenu=function(e){var t=c.props,n=t.action,r=t.chat_emoji;e.preventDefault(),window.setTimeout((function(){n("CHAT_STATE",{keyboard:!1,emoji:!r,attach:!1})}),60)},c.sendAttach=function(e){e.preventDefault();var t=c.props,n=t.action,r=t.chat_attach;window.setTimeout((function(){n("CHAT_STATE",{keyboard:!1,emoji:!1,attach:!r})}),60)},c.handleValue=function(e){var t;(c.setState({message:e.substring(0,500)}),c.state.message.length>4&&!c.state.sending)&&(c.setState({sending:!0}),null===(t=c.props.client)||void 0===t||t.emit("SENDING"),setTimeout((function(){c.setState({sending:!1})}),2e3))},c.handleEmoji=function(e){c.setState({message:"".concat(c.state.message).concat(e).substring(0,500)})},c.sendMessage=function(e){e.preventDefault(),c.props.action("CHAT_STATE",{keyboard:c.props.chat_keyboard||!1,emoji:!1,attach:!1}),c.setState({message:"",answerMessage:"",attach:"",chat:Y(c.state.message,c.state.attach,c.state.answerMessage,c.state.chat,c.props.client)})},c.Backspace=function(){var e=c.state.message,t=z()(e).length;c.setState({message:z.a.substr(e,0,t-1)})},c.editMessage=function(e){e.preventDefault(),c.setState({message:c.state.reservMessage,editMessage:!1,editMessageID:"",answerMessage:"",chat:te(c.state.message,c.state.editMessageID,c.state.answerMessage,c.state.chat,c.props.client,!0)})},c.handleAnswerChange=function(e){"Enter"===e.key&&(c.state.editMessage?c.editMessage(e):c.sendMessage(e))},c.openContect=function(e,t,n,r){var a=c.props.action;"admin"!==r&&a("POPOUT",{popout:Object(v.jsx)(g,{postID:e,text:t,author:r,onEdit:function(){c.props.action("CHAT_STATE",{keyboard:!0,emoji:!1,attach:!1}),c.setState({message:t,reservMessage:c.state.message,editMessage:!0,editMessageID:e,answerMessage:n})},onAnswer:function(){c.props.action("CHAT_STATE",{keyboard:!0,emoji:!1,attach:!1}),c.setState({answerMessage:e})}})})},c.componentDidMount=function(){var e=c.props,t=e.action,n=e.client;t("START_ACCELEROMETER",{refresh_rate:50}),null===n||void 0===n||n.on("RECEIVE_MESSAGE",(function(e){t("TITLE_CHAT",{}),t("SENDING",{sending:!1}),c.setState({chat:Z(e,c.state.chat,c.props.client)})})),null===n||void 0===n||n.on("MESSAGE_READ",(function(e){c.setState({chat:Q(e,c.state.chat,c.props.client)})})),null===n||void 0===n||n.on("REMOTE_MESSAGE",(function(e){c.setState({chat:ee(e,c.state.chat)})})),null===n||void 0===n||n.on("EDIT_MESSAGE",(function(e){c.setState({chat:te(e.message.value,e.key,e.answer,c.state.chat,c.props.client)})})),b.a.subscribe(function(){var e=Object(N.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,e.t0=n.detail.type,e.next="VKWebAppAccelerometerChanged"===e.t0?4:9;break;case 4:return 20,-20,(Number(n.detail.data.x)<=-20||Number(n.detail.data.x)>=20||Number(n.detail.data.y)<=-20||Number(n.detail.data.y)>=20||Number(n.detail.data.z)<=-20||Number(n.detail.data.z)>=20)&&(t("STOP_ACCELEROMETER",{}),t("TAPTIC",{type:"warning"}),!c.state.hi&&c.setState({hi:!0,chat:Y("\u041f\u0440\u0438\u0432\u0435\u0442 =)","","",c.state.chat,c.props.client)})),e.abrupt("break",10);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},c.componentWillUnmount=function(){var e=c.props.client;null===e||void 0===e||e.off("RECEIVE_MESSAGE"),null===e||void 0===e||e.off("MESSAGE_READ")},c.state={textarea:0,emoji:!1,attach:"",message:"",reservMessage:"",sending:!1,keyboard:!1,chat:new Map,hi:!1,editMessage:!1,editMessageID:"",answerMessage:""},c.menuRef=i.a.createRef(),c.textareaRef=i.a.createRef(),c}return Object(c.a)(n,[{key:"render",value:function(){var e,t,n,r,c,a=this,o=this.props,i=o.id,u=o.action,l=o.platform,d=o.chat_keyboard,j=o.chat_attach,p=o.chat_emoji,f=o.background,O=o.colorBackground,m=o.intensityBackground,_=this.state,g=_.chat,x=_.editMessage,k=_.editMessageID,y=_.attach;this.props.chat_keyboard&&(null===(e=this.textareaRef.current)||void 0===e||e.focus());var S={height:"".concat(p?277:0,"px"),transition:"transform .24s cubic-bezier(.3,.07,.27,1)"},C=O||"var(--im_bubble_outgoing)";return Object(v.jsxs)(h.r,{id:i,className:"Chat",onKeyPress:this.handleAnswerChange,children:[!x&&Object(v.jsx)(Ae,{}),x&&Object(v.jsx)(Re,{editClose:function(){a.setState({message:a.state.reservMessage,editMessage:!1,editMessageID:""})}}),Object(v.jsxs)("div",{className:"Chat__in",children:[Object(v.jsx)("div",{className:U()("Chat__header","Header__height--".concat(l===h.p?"ios":"android"))}),Object(v.jsxs)("div",{className:"Chat__message",onClick:function(){return u("CHAT_STATE",{keyboard:!1,emoji:!1,attach:!1})},children:[Object(v.jsxs)("div",{className:"Chat__background",style:{color:"".concat(C),opacity:"".concat((Number(m)||100)/100)},children:[" ",f&&Object(v.jsx)(xt,{name:f})]}),Object(v.jsxs)(ye,{revers:!0,stucky:!0,children:[Object(B.a)(g.keys()).map((function(e){var t=g.get(e);if(t){var n,r,c,o,i=t.author;return Object(v.jsxs)(s.Fragment,{children:[(null===(n=t.message)||void 0===n?void 0:n.value)&&Object(v.jsx)("div",{className:"Chat__item ".concat(k===t.key?"Chat_item--active":""),onClick:function(){return a.openContect((null===t||void 0===t?void 0:t.key)||"",(null===t||void 0===t?void 0:t.message.value)||"",(null===t||void 0===t?void 0:t.answer)||"",i)},children:Object(v.jsxs)("div",{className:"Item__message lonely-".concat(i," ").concat(i),children:[t.answer&&Object(v.jsx)("div",{className:"Item__answer",children:(null===(r=g.get(t.answer))||void 0===r?void 0:r.message.value)||"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e"}),null===(c=t.message)||void 0===c?void 0:c.value,Object(v.jsxs)("div",{className:"Item__time",children:["my"===i&&!t.read&&Object(v.jsx)("div",{className:"Item__read"}),t.time]})]})},"item_".concat(t.key)),(null===(o=t.message)||void 0===o?void 0:o.attach)&&Object(v.jsx)("div",{className:"Chat__item",children:Object(v.jsxs)("div",{className:"Item__attach ".concat(i),onClick:function(){return b.a.send("VKWebAppShowImages",{images:[t.message.attach]})},children:[t.nsfw&&Object(v.jsx)("div",{className:"NSFW_Image",children:Object(v.jsx)(h.x,{header:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",children:"\u0414\u0430\u043d\u043d\u044b\u0439 \u043c\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043b \u043c\u043e\u0436\u0435\u0442 \u043d\u0435\u0441\u0442\u0438 \u0441\u0435\u043a\u0441\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440!"})}),Object(v.jsx)("img",{className:t.nsfw?"Blur":"",alt:"",src:t.message.attach}),Object(v.jsx)("div",{className:"Item__attach_time",children:t.time})]},"message_attach_".concat(t.key))},"item_attach_".concat(t.key))]},"box_message_".concat(t.key))}})),this.props.sending&&Object(v.jsx)("div",{className:"Chat__item",children:Object(v.jsx)("div",{className:"Item__message lonely-you you",children:Object(v.jsxs)("div",{className:"Chat__sending",children:[Object(v.jsx)("div",{className:"Chat__sending_1"}),Object(v.jsx)("div",{className:"Chat__sending_2"}),Object(v.jsx)("div",{className:"Chat__sending_3"})]})},"message_senging")},"item_sending"),(null===(t=this.props.attach)||void 0===t?void 0:t.progress)&&!(null===(n=this.props.attach)||void 0===n?void 0:n.url)&&Object(v.jsx)("div",{className:"Chat__item",children:Object(v.jsxs)("div",{className:"Item__attach my",children:[Object(v.jsx)("img",{alt:"",src:null===(r=this.props.attach)||void 0===r?void 0:r.blob}),Object(v.jsx)("span",{className:"Item__attach_process",children:"".concat(this.props.attach.progress,"%")})]},"preview_image_upload")},"item_image_send"),Object(v.jsx)("div",{style:{height:"5px"}})]})]}),Object(v.jsxs)("div",{className:"Chat__textarea",style:{marginBottom:"".concat(j?"var(--safe-area-inset-bottom)":d||p?"0px":"var(--safe-area-inset-bottom)")},children:[this.state.answerMessage&&Object(v.jsxs)("div",{className:"Item__answer_box",children:[Object(v.jsx)("div",{className:"Item__answer Item__answer_preview",children:null===(c=g.get(this.state.answerMessage))||void 0===c?void 0:c.message.value}),Object(v.jsx)(h.u,{onClick:function(){return a.setState({answerMessage:""})},children:Object(v.jsx)(V.a,{})})]}),(j||y)&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(A,{url:y,onFiles:function(e){return a.setState({attach:e||""})}}),Object(v.jsx)(h.A,{wide:!0})]}),this.state.answerMessage&&Object(v.jsx)(h.A,{}),Object(v.jsx)(h.L,{before:Object(v.jsx)(h.M,{style:{color:j||y?"var(--accent)":void 0},onClick:function(e){return!y&&a.sendAttach(e)},children:Object(v.jsx)(F.a,{})}),after:Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(h.M,{style:{color:p?"var(--accent)":void 0},onClick:function(e){return a.sendMenu(e)},children:Object(v.jsx)(W.a,{})}),!x&&Object(v.jsx)(h.M,{onClick:function(e){return a.sendMessage(e)},onTouchStart:function(e){return e.preventDefault()},onMouseDown:function(e){return e.preventDefault()},children:Object(v.jsx)($.a,{})}),x&&Object(v.jsx)(h.M,{onClick:function(e){return a.editMessage(e)},onTouchStart:function(e){return e.preventDefault()},onMouseDown:function(e){return e.preventDefault()},children:Object(v.jsx)(J.a,{})})]}),value:this.state.message,onChange:function(e){return a.handleValue(e.target.value)},onFocus:function(){return u("CHAT_STATE",{keyboard:!0,emoji:!1,attach:!1})},onBlur:function(){return u("CHAT_STATE",{keyboard:!1,emoji:!1,attach:!1})},onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},placeholder:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",getRef:this.textareaRef})]}),Object(v.jsx)("div",{className:"Chat__emoji",style:S,onTouchStart:function(e){return e.preventDefault()},onMouseDown:function(e){return e.preventDefault()},children:p&&Object(v.jsx)(Le,{onChange:function(e){return a.handleEmoji(e)},onBackspace:function(){return a.Backspace()}})})]})]})}}]),n}(s.Component),re=Object(u.a)(d()(ne)),ce=n(170),ae=["color","icons","getRef","type","onClick"],oe=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).componentDidMount=function(){},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.icons,r=e.getRef,c=e.type,a=e.onClick,o=Object(ce.a)(e,ae),s=document.body.getAttribute("scheme");return Object(v.jsxs)("div",{className:"CircleButton",onClick:a,children:["file"===c&&Object(v.jsx)("input",Object(X.a)(Object(X.a)({},o),{},{accept:"image/*",className:"File__input",type:"file",ref:r})),Object(v.jsx)("div",{className:"CircleButton__outer",style:{backgroundColor:"space_gray"!==s?t||"white":"var(--text_primary)"},children:n})]})}}]),n}(s.Component),se=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).isLeave=!1,e.leaveChat=function(){e.isLeave=!0},e.render=function(){return Object(v.jsxs)(h.c,{actions:[{title:"\u0414\u0430",autoclose:!0,mode:"default",action:function(){return e.leaveChat()}},{title:"\u041d\u0435\u0442",autoclose:!0,mode:"cancel"}],onClose:function(){window.setTimeout((function(){var t;e.isLeave&&(!e.props.donut&&b.a.send("VKWebAppShowNativeAds",{ad_format:"reward"}).then((function(){})).catch((function(){})),e.props.action("CHAT_CLEAR",{}),e.props.action("BACK_PAGE",{miss:!0}),null===(t=e.props.client)||void 0===t||t.emit("CLOSE_DIALOG"));e.props.action("POPOUT",{popout:void 0})}),50)},children:[Object(v.jsx)("h2",{children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433"}),Object(v.jsx)("p",{children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u044d\u0442\u0443 \u0431\u0435\u0441\u0435\u0434\u0443? \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u044d\u0442\u043e\u0439 \u0431\u0435\u0441\u0435\u0434\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e!"})]})},e}return n}(s.Component),ie=Object(u.a)(se),ue=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.selected,r=e.onClick;return Object(v.jsx)(h.g,{className:"ColorButton",children:Object(v.jsx)("div",{className:"ColorButton__in",onClick:r,style:{background:t||getComputedStyle(document.body).getPropertyValue("--im_bubble_outgoing")},children:Object(v.jsx)("div",{className:"ColorButton__indicator",children:n&&Object(v.jsx)(P.a,{height:20,width:20})})})})}}]),n}(s.Component),le=n(378),de=n(379),je=n(374),be=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.action;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(h.i,{before:Object(v.jsx)(je.a,{}),onClick:function(){return e("POPOUT",{popout:Object(v.jsx)(qt,{})})},"data-mode":"all",children:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})}}]),n}(s.Component),he=Object(u.a)(be),pe=n(375),fe=n(376),Oe=n(377),me=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.action,n=e.client;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.i,{before:Object(v.jsx)(pe.a,{}),onClick:function(){return t("POPOUT",{popout:Object(v.jsx)(Wt,{})})},"data-mode":"all",children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c"}),Object(v.jsx)(h.i,{before:Object(v.jsx)(fe.a,{}),onClick:function(){return n&&n.emit("GET_PROFILE")},"data-mode":"all",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(v.jsx)(h.i,{before:Object(v.jsx)(Oe.a,{}),onClick:function(){},"data-mode":"all",children:"Donut"})]})}}]),n}(s.Component),ve=Object(u.a)(me),_e=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).state={panel:"user"},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.admin,r=t.opened,c=t.onClose,a=this.state.panel;return Object(v.jsx)(h.w,{opened:r,onClose:c,children:Object(v.jsxs)(h.q,{children:["user"===a&&Object(v.jsx)(he,{}),"admin"===a&&Object(v.jsx)(ve,{}),n&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.A,{}),Object(v.jsx)(h.i,{before:"admin"===a?Object(v.jsx)(le.a,{}):Object(v.jsx)(de.a,{}),onClick:function(){return e.setState({panel:"admin"===a?"user":"admin"})},"data-mode":"all",children:"admin"===a?"\u041d\u0430\u0437\u0430\u0434":"\u0410\u0434\u043c\u0438\u043d\u043a\u0430"})]})]})})}}]),n}(s.Component),ge=Object(u.a)(_e),xe=n(49),ke=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).refCustomScroll=void 0,c.refCustomScroll__outer=void 0,c.refCustomScroll__inner=void 0,c.CustomScroll__scrollbar__outer=void 0,c.CustomScroll__scrollbar__inner=void 0,c.componentDidMount=function(){var e,t;null===(e=c.refCustomScroll.current)||void 0===e||e.addEventListener("wheel",(function(e){return c.onWheell(e)}),{passive:!1}),null===(t=c.refCustomScroll__outer.current)||void 0===t||t.addEventListener("scroll",(function(e){return c.onScroll(e)}),{passive:!1})},c.componentWillUnmount=function(){var e,t;null===(e=c.refCustomScroll.current)||void 0===e||e.removeEventListener("wheel",(function(e){return c.onWheell(e)})),null===(t=c.refCustomScroll__outer.current)||void 0===t||t.removeEventListener("scroll",(function(e){return c.onScroll(e)}))},c.componentDidUpdate=function(e){var t=c.props.children;e.children!==t&&c.scrollUpdate()},c.scrollUpdate=function(){var e=c.props.stucky,t=c.state.isStuck;if(e&&t&&c.refCustomScroll__outer.current&&c.refCustomScroll__inner.current){var n,r=c.refCustomScroll__inner.current.offsetHeight+c.refCustomScroll__outer.current.offsetHeight;null===(n=c.refCustomScroll__outer.current)||void 0===n||n.scrollTo(0,r)}},c.scrollBar=function(){var e,t,n=null===(e=c.refCustomScroll__outer.current)||void 0===e?void 0:e.offsetHeight,r=null===(t=c.refCustomScroll__inner.current)||void 0===t?void 0:t.offsetHeight;if(n&&r){var a=c.state.position,o=Math.ceil(100*n/r*n/100),s=Math.floor(100*a/r*n/100);c.setState({scrollBarHeight:o,scrollBarTop:s})}},c.onScroll=function(e){e.stopPropagation();var t=c.props.stuck;if(c.refCustomScroll__outer.current&&c.refCustomScroll__outer.current&&c.refCustomScroll__inner.current&&t){var n=c.refCustomScroll__outer.current.scrollTop;c.refCustomScroll__outer.current.offsetHeight+n>c.refCustomScroll__inner.current.offsetHeight-t?c.setState({isStuck:!0}):c.setState({isStuck:!1}),c.setState({position:n})}c.scrollBar()},c.onWheell=function(e){var t,n,r;e.stopPropagation();var a=c.state.position,o=(null===(t=c.refCustomScroll__outer.current)||void 0===t?void 0:t.offsetHeight)||0,s=(null===(n=c.refCustomScroll__inner.current)||void 0===n?void 0:n.offsetHeight)||0,i=a+(e.deltaY>0?50:-50),u=i<0?0:i>=s-o?s-o:i;c.setState({position:u}),null===(r=c.refCustomScroll__outer.current)||void 0===r||r.scrollTo(0,u)},c.state={position:0,isStuck:!0,scrollBarHeight:0,scrollBarTop:0},c.refCustomScroll=i.a.createRef(),c.refCustomScroll__outer=i.a.createRef(),c.refCustomScroll__inner=i.a.createRef(),c.CustomScroll__scrollbar__outer=i.a.createRef(),c.CustomScroll__scrollbar__inner=i.a.createRef(),c}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.revers,n=e.children,r=e.platform,c=this.state,a=c.scrollBarHeight,o=c.scrollBarTop,s={WebkitTransform:"translateY(".concat(o,"px)"),transform:"translateY(".concat(o,"px)"),height:"".concat(a,"px")};return Object(v.jsxs)("div",{className:"CustomScroll",ref:this.refCustomScroll,children:[r!==h.p&&Object(v.jsx)("div",{className:"CustomScroll__scrollbar__outer",ref:this.CustomScroll__scrollbar__outer,children:Object(v.jsx)("div",{className:"CustomScroll__scrollbar__inner",style:s,ref:this.CustomScroll__scrollbar__inner})}),Object(v.jsx)("div",{className:"CustomScroll__outer",ref:this.refCustomScroll__outer,children:Object(v.jsx)("div",{className:U()("CustomScroll__inner",Object(xe.a)({},"CustomScroll__inner--revers",t)),ref:this.refCustomScroll__inner,children:n})})]})}}]),n}(s.Component);ke.defaultProps={stuck:100};var ye=Object(h.N)(ke),Se=n(380),Ce=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).state={contextOpened:!1},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.titleChat;return Object(v.jsxs)(h.k,{vertical:"top",children:[Object(v.jsx)(h.s,{left:Object(v.jsx)(h.t,{"aria-label":"Back page",onClick:function(){n("POPOUT",{popout:Object(v.jsx)(ie,{})})}}),children:Object(v.jsx)(h.v,{aside:Object(v.jsx)(Se.a,{style:{transform:"rotate(".concat(this.state.contextOpened?"180deg":"0",")")}}),status:"".concat(r),before:Object(v.jsx)(v.Fragment,{}),onClick:function(){return e.setState({contextOpened:!e.state.contextOpened})},children:"\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439 \u0447\u0430\u0442"})}),Object(v.jsx)(ge,{opened:this.state.contextOpened,onClose:function(){return e.setState({contextOpened:!1})}})]})}}]),n}(s.Component),Ae=Object(u.a)(Ce),Ee=n(381),Te=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.action;return Object(v.jsx)(h.m,{id:"Others_settings_app",header:Object(v.jsx)(h.n,{mode:"secondary",children:"\u041f\u0440\u043e\u0447\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),children:Object(v.jsx)(h.i,{before:Object(v.jsx)(Ee.a,{}),onClick:function(){return e("NEXT_PAGE",{panel:"SettingOthers"})},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f"})})}}]),n}(s.Component),Ne=Object(u.a)(Te),Me=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return!this.props.donut&&Object(v.jsx)(h.e,{mode:"image",header:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 Donut",subheader:Object(v.jsxs)("span",{children:["\u0411\u043e\u043b\u044c\u0448\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 ",Object(v.jsx)("br",{}),"\u0438 \u043d\u0438\u043a\u0430\u043a\u043e\u0439 \u0440\u0435\u043a\u043b\u0430\u043c\u044b"]}),background:Object(v.jsx)("div",{style:{backgroundColor:"#ffc086",backgroundImage:"url(".concat("https://cloud.vkma.ru/static/DONUT_PREWIEW.png",")"),backgroundPosition:"right center",backgroundSize:320,backgroundRepeat:"no-repeat"}}),actions:Object(v.jsx)(h.f,{mode:"overlay_primary",href:"https://vk.com/donut/club204427314",target:"_blank",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})}}]),n}(s.Component),Ie=Object(u.a)(Me),Pe=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).state={contextOpened:!1},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.editClose;return Object(v.jsxs)(h.k,{vertical:"top",children:[Object(v.jsx)(h.s,{left:Object(v.jsx)(h.u,{onClick:t,children:Object(v.jsx)(V.a,{})}),children:Object(v.jsx)(h.v,{aside:!1,status:Object(v.jsx)(v.Fragment,{}),before:Object(v.jsx)(v.Fragment,{}),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"})}),Object(v.jsx)(ge,{opened:this.state.contextOpened,onClose:function(){return e.setState({contextOpened:!1})}})]})}}]),n}(s.Component),Re=Object(u.a)(Pe),we=[{title:"\u044d\u043c\u043e\u0446\u0438\u0438",value:["\ud83d\ude04","\ud83d\ude01","\ud83d\ude0a","\ud83d\ude03","\ud83e\udd23","\ud83d\ude06","\ud83d\ude09","\ud83d\ude1c","\ud83d\ude0b","\ud83e\udd17","\ud83d\ude0d","\ud83d\ude0e","\ud83d\ude12","\ud83d\ude0f","\ud83d\ude42","\ud83d\ude43","\ud83d\ude14","\ud83d\ude22","\ud83d\ude2d","\ud83d\ude29","\ud83d\ude28","\ud83d\ude10","\ud83d\ude0c","\ud83e\udd24","\ud83d\ude07","\ud83d\ude30","\ud83e\udd27","\ud83d\ude32","\ud83e\udd22","\ud83d\ude33","\ud83d\ude37","\ud83d\ude02","\ud83d\udc8b","\ud83d\ude1a","\ud83d\ude15","\ud83d\ude2f","\ud83d\ude26","\ud83d\ude35","\ud83d\ude44","\ud83e\udd14","\ud83d\ude20","\ud83d\ude21","\ud83d\ude1d","\ud83d\ude34","\ud83d\ude18","\ud83d\ude17","\ud83d\ude19","\ud83d\ude1f","\ud83d\ude41","\ud83d\ude2c","\ud83d\ude36","\ud83e\udd10","\ud83d\ude2b","\ud83d\ude00","\ud83d\ude25","\ud83d\ude1b","\ud83d\ude16","\ud83d\ude24","\ud83d\ude23","\ud83d\ude27","\ud83d\ude11","\ud83d\ude05","\ud83d\ude2e","\ud83d\ude1e","\ud83d\ude13","\ud83d\ude31","\ud83e\udd13","\ud83e\udd11","\ud83d\ude2a","\ud83e\udd12","\ud83e\udd15","\ud83e\udd25","\ud83e\udd20","\ud83d\ude08","\ud83d\udc7f","\ud83d\udc7d","\ud83d\udc7b","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude3e","\ud83d\ude3f","\ud83d\ude3b","\ud83d\ude40","\ud83d\ude3a","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udca9","\ud83d\udc80","\ud83d\udc79","\ud83d\udc7a"]},{title:"\u0436\u0435\u0441\u0442\u044b \u0438 \u043b\u044e\u0434\u0438",value:["\ud83d\udc4d","\ud83d\udc4e","\ud83d\udc4c","\ud83d\udd95","\ud83e\udd18","\ud83d\udc4f","\ud83d\udc4a","\ud83d\udcaa","\u270b","\ud83d\udd90","\ud83d\udd96","\ud83d\ude4f","\ud83d\ude4c","\u270a","\ud83d\udc46","\ud83d\udc47","\ud83d\udc48","\ud83d\udc49","\ud83d\udc4b","\ud83d\udc50","\ud83e\udd1e","\ud83e\udd1d","\ud83e\udd19","\ud83e\udd1b","\ud83e\udd1c","\ud83d\udc40","\ud83d\udc42","\ud83d\udc43","\ud83d\udc45","\ud83d\udc6b","\ud83d\udc6c","\ud83d\udc6d","\ud83d\udc8f","\ud83d\udc91","\ud83d\udc6f","\ud83d\udc6a","\ud83d\udc70","\ud83d\udc66","\ud83d\udc67","\ud83d\udc68","\ud83d\udc69","\ud83d\udc71","\ud83d\udc6e","\ud83d\udc72","\ud83d\udc73","\ud83d\udc82","\ud83d\udc74","\ud83d\udc75","\ud83d\udc76","\ud83d\udc77","\ud83d\udc78","\ud83d\udc7c","\ud83d\ude47","\ud83e\udd30","\ud83d\udc85","\ud83d\udc84","\ud83d\udc44","\ud83d\udc83","\ud83c\udf8e","\ud83c\udf85","\ud83d\udeb6","\ud83d\udc71\u200d","\ud83d\udc6e\u200d","\ud83d\udc77\u200d","\ud83d\udd75\u200d","\ud83d\ude47\u200d","\ud83d\ude4b\u200d","\ud83d\udc81\u200d","\ud83d\ude45\u200d","\ud83d\ude46\u200d","\ud83d\ude4e\u200d","\ud83d\udc86\u200d","\ud83d\udc87\u200d","\ud83e\udd37\u200d","\ud83e\udd26\u200d","\ud83d\ude4d\u200d","\ud83d\udeb6\u200d","\ud83e\udd33","\ud83c\udfc3\u200d","\ud83d\udc6f\u200d","\ud83c\udfcc\u200d","\ud83d\udc31","\ud83e\udd21","\ud83d\udd7a","\ud83d\udc73\u200d","\ud83d\udc82\u200d"]},{title:"\u0441\u0438\u043c\u0432\u043e\u043b\u044b",value:["\ud83d\udc93","\ud83d\udc94","\ud83d\udc95","\ud83d\udc96","\ud83d\udc97","\ud83d\udc98","\ud83d\udc99","\ud83d\udc9a","\ud83d\udc9b","\ud83d\udc9c","\ud83d\udc9d","\ud83d\udc9e","\ud83d\udc9f","\ud83d\udcac","\ud83d\udcad","\ud83d\udd1e","\u26d4","\ud83d\udc29","\ud83c\udd98","\ud83c\udf1a","\ud83d\udda4","\ud83d\udca8","\ud83d\udd25"]},{title:"\u0436\u0438\u0432\u043e\u0442\u043d\u044b\u0435 \u0438 \u0440\u0430\u0441\u0442\u0435\u043d\u0438\u044f",value:["\ud83c\udf31","\ud83c\udf32","\ud83c\udf33","\ud83c\udf34","\ud83c\udf37","\ud83c\udf38","\ud83d\udc00","\ud83d\udc01","\ud83d\udc02","\ud83d\udc03","\ud83d\udc04","\ud83d\udc05","\ud83d\udc06","\ud83d\udc07","\ud83d\udc08","\ud83d\udc09","\ud83d\udc0a","\ud83d\udc0b","\ud83d\udc0c","\ud83d\udc0d","\ud83d\udc0e","\ud83d\udc0f","\ud83d\udc10","\ud83d\udc11","\ud83d\udc12","\ud83d\udc13","\ud83d\udc14","\ud83d\udc15","\ud83d\udc16","\ud83d\udc17","\ud83d\udc18","\ud83d\udc19","\ud83d\udc1a","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83d\udc1e","\ud83d\udc1f","\ud83d\udc20","\ud83d\udc21","\ud83d\udc22","\ud83d\udc23","\ud83d\udc24","\ud83d\udc25","\ud83d\udc26","\ud83d\udc27","\ud83d\udc28","\ud83d\udc2a","\ud83d\udc2b","\ud83d\udc2c","\ud83d\udc2d","\ud83d\udc2e","\ud83d\udc2f","\ud83d\udc30","\ud83d\udc32","\ud83d\udc33","\ud83d\udc34","\ud83d\udc35","\ud83d\udc36","\ud83d\udc37","\ud83d\udc38","\ud83d\udc39","\ud83d\udc3a","\ud83d\udc3b","\ud83d\udc3c","\ud83d\udc3d","\ud83d\udc3e","\u26c4","\u26c5","\u2728","\ud83c\udf0d","\ud83c\udf1b","\ud83c\udf1d","\ud83c\udf1e","\ud83c\udf30","\ud83c\udf35","\ud83c\udf39","\ud83c\udf3a","\ud83c\udf3b","\ud83c\udf3c","\ud83c\udf3e","\ud83c\udf3f","\ud83c\udf40","\ud83c\udf41","\ud83c\udf42","\ud83c\udf43","\ud83c\udf44","\ud83d\udca6","\ud83d\udca7","\ud83e\udd89","\ud83e\udd8d","\ud83e\udd8f","\ud83e\udd8b","\ud83e\udd8a","\ud83e\udd88","\ud83e\udd85","\ud83e\udd86"]},{title:"\u0435\u0434\u0430 \u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u0438",value:["\ud83c\udf52","\ud83c\udf53","\ud83c\udf54","\ud83c\udf55","\ud83c\udf56","\ud83c\udf57","\ud83c\udf5a","\ud83c\udf5b","\ud83c\udf5c","\ud83c\udf5d","\ud83c\udf5e","\ud83c\udf5f","\ud83c\udf60","\ud83c\udf61","\ud83c\udf62","\ud83c\udf63","\ud83c\udf64","\ud83c\udf65","\ud83c\udf66","\ud83c\udf67","\ud83c\udf68","\ud83c\udf69","\ud83c\udf6a","\ud83c\udf6b","\ud83c\udf6c","\ud83c\udf6d","\ud83c\udf6e","\ud83c\udf6f","\ud83c\udf70","\ud83c\udf71","\ud83c\udf72","\ud83c\udf73","\ud83c\udf74","\ud83c\udf75","\ud83c\udf76","\ud83c\udf77","\ud83c\udf78","\ud83c\udf79","\ud83c\udf7a","\ud83c\udf7b","\ud83c\udf7c","\ud83e\udd59","\ud83e\udd5d","\ud83e\udd5c","\ud83e\udd58","\ud83e\udd57","\ud83e\udd56","\ud83e\udd53","\ud83e\udd50","\ud83e\udd42","\ud83e\udd51","\ud83e\udd43","\ud83e\udd55","\ud83c\udf45","\ud83c\udf46","\ud83c\udf47","\ud83c\udf48","\ud83c\udf49","\ud83c\udf4a","\ud83c\udf4b","\ud83c\udf4c","\ud83c\udf4d","\ud83c\udf4e","\ud83c\udf4f","\ud83c\udf50","\ud83c\udf51","\ud83c\udf3d"]},{title:"\u0441\u043f\u043e\u0440\u0442",value:["\u26bd","\u26be","\ud83c\udfaf","\ud83c\udfb1","\ud83c\udfbd","\ud83c\udfbe","\ud83c\udfbf","\ud83c\udfc0","\ud83c\udfc1","\ud83c\udfc2","\ud83c\udfc3","\ud83c\udfc4","\ud83c\udfc6","\ud83c\udfc7","\ud83c\udfc8","\ud83c\udfc9","\ud83c\udfca","\ud83d\udc5f","\ud83d\udea3","\ud83d\udeb4","\ud83d\udeb5","\u26f3","\u26ea","\ud83e\udd3d\u200d","\ud83e\udd3e\u200d","\ud83e\udd3c\u200d","\ud83e\udd38\u200d","\ud83c\udfcb\u200d","\u26f9\u200d","\ud83c\udfc4\u200d","\ud83c\udfca\u200d","\ud83d\udeb5\u200d","\ud83d\udeb4\u200d","\ud83e\udd3a"]},{title:"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f \u0438 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442",value:["\ud83d\ude85","\ud83d\ude86","\ud83d\ude87","\ud83d\ude88","\ud83d\ude8a","\ud83d\ude8c","\ud83d\ude8d","\ud83d\ude8e","\ud83d\ude8f","\ud83d\ude90","\ud83d\ude91","\ud83d\ude92","\ud83d\ude93","\ud83d\ude94","\ud83d\ude95","\ud83d\ude96","\ud83d\ude97","\ud83d\ude98","\ud83d\ude99","\ud83d\ude9a","\ud83d\ude9b","\ud83d\ude9c","\ud83d\ude9d","\ud83d\ude9e","\ud83d\ude9f","\ud83d\udea0","\ud83d\udea1","\ud83d\udea4","\ud83d\udea7","\ud83d\udea8","\u26f5","\ud83d\ude80","\ud83d\ude81","\ud83d\ude82","\ud83d\ude83","\ud83d\ude84","\u26fd","\u2708","\ud83d\udef5"]},{title:"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u044b",value:["\u23f0","\u23f3","\ud83c\udc04","\ud83c\udccf","\ud83c\udf02","\ud83c\udf1f","\ud83c\udf80","\ud83c\udf81","\ud83c\udf82","\ud83c\udf83","\ud83c\udf84","\ud83c\udf88","\ud83c\udf89","\ud83c\udf8a","\ud83c\udf8b","\ud83c\udf8c","\ud83c\udf8d","\ud83c\udf8f","\ud83c\udf90","\ud83c\udf92","\ud83c\udf93","\ud83c\udfa3","\ud83c\udfa4","\ud83c\udfa7","\ud83c\udfa8","\ud83c\udfa9","\ud83c\udfaa","\ud83c\udfab","\ud83c\udfac","\ud83c\udfad","\ud83c\udfb0","\ud83c\udfb2","\ud83c\udfb3","\ud83c\udfb4","\ud83c\udfb7","\ud83c\udfb8","\ud83c\udfb9","\ud83c\udfba","\ud83c\udfbb","\ud83d\udc51","\ud83d\udc52","\ud83d\udc53","\ud83d\udc54","\ud83d\udc55","\ud83d\udc56","\ud83d\udc57","\ud83d\udc58","\ud83d\udc59","\ud83d\udc5a","\ud83d\udc5b","\ud83d\udc60","\ud83d\udc5c","\ud83d\udc5d","\ud83d\udc5e","\ud83d\udc61","\ud83d\udc62","\ud83d\udc63","\ud83d\udc7e","\ud83d\udc88","\ud83d\udc89","\ud83d\udc8a","\ud83d\udc8c","\ud83d\udc8d","\ud83d\udc8e","\ud83d\udc90","\ud83d\udc92","\ud83d\udca1","\ud83d\udca3","\ud83d\udca5","\ud83d\udcb0","\ud83d\udcb3","\ud83d\udcb4","\ud83d\udcb5","\ud83d\udcb6","\ud83d\udcb7","\ud83d\udcb8","\ud83d\udcba","\ud83d\udcbb","\ud83d\udcbc","\ud83d\udcbd","\ud83d\udcbe","\ud83d\udcbf","\ud83d\udcc4","\ud83d\udcc5","\ud83d\udcc7","\ud83d\udcc8","\ud83d\udcc9","\ud83d\udcca","\ud83d\udccb","\ud83d\udccc","\ud83d\udccd","\ud83d\udcce","\ud83d\udcd0","\ud83d\udcd1","\ud83d\udcd2","\ud83d\udcd3","\ud83d\udcd4","\ud83d\udcd5","\ud83d\udcd6","\ud83d\udcd7","\ud83d\udcd8","\ud83d\udcd9","\ud83d\udcda","\ud83d\udcdc","\ud83d\udcdd","\ud83d\udcdf","\ud83d\udce0","\ud83d\udce1","\ud83d\udce2","\ud83d\udce6","\ud83d\udced","\ud83d\udcee","\ud83d\udcef","\ud83d\udcf0","\ud83d\udcf1","\ud83d\udcf7","\ud83d\udcf9","\ud83d\udcfa","\ud83d\udcfb","\ud83d\udcfc","\ud83d\udd06","\ud83d\udd0e","\ud83d\udd11","\ud83d\udd14","\ud83d\udd16","\ud83d\udd26","\ud83d\udd27","\ud83d\udd28","\ud83d\udd29","\ud83d\udd2a","\ud83d\udd2b","\ud83d\udd2c","\ud83d\udd2d","\ud83d\udd2e","\ud83d\udd31","\ud83d\uddff","\ud83d\udeaa","\ud83d\udeac","\ud83d\udebd","\ud83d\udebf","\ud83d\udec0"]},{title:"\u0444\u043b\u0430\u0433\u0438",value:["\ud83c\udde8\ud83c\uddf3","\ud83c\udde9\ud83c\uddea","\ud83c\uddea\ud83c\uddf8","\ud83c\uddeb\ud83c\uddf7","\ud83c\uddec\ud83c\udde7","\ud83c\uddee\ud83c\uddf9","\ud83c\uddef\ud83c\uddf5","\ud83c\uddf0\ud83c\uddf7","\ud83c\uddf7\ud83c\uddfa","\ud83c\uddfa\ud83c\uddf8","\ud83c\uddfa\ud83c\udde6","\ud83c\uddf0\ud83c\uddff","\ud83c\udde7\ud83c\uddfe","\ud83c\udde6\ud83c\uddfa","\ud83c\udde6\ud83c\uddf9","\ud83c\udde7\ud83c\uddea","\ud83c\udde7\ud83c\uddf7","\ud83c\uddfb\ud83c\uddf3","\ud83c\udded\ud83c\uddf0","\ud83c\udde9\ud83c\uddf0","\ud83c\uddee\ud83c\uddf1","\ud83c\uddee\ud83c\uddf3","\ud83c\uddee\ud83c\udde9","\ud83c\uddee\ud83c\uddea","\ud83c\udde8\ud83c\udde6","\ud83c\udde8\ud83c\uddf4","\ud83c\uddf2\ud83c\uddf4","\ud83c\uddf2\ud83c\uddfe","\ud83c\uddf2\ud83c\uddfd","\ud83c\uddf3\ud83c\uddf1","\ud83c\uddf3\ud83c\uddff","\ud83c\uddf3\ud83c\uddf4","\ud83c\udde6\ud83c\uddea","\ud83c\uddf5\ud83c\uddf1","\ud83c\uddf5\ud83c\uddf9","\ud83c\uddf5\ud83c\uddf7","\ud83c\uddf8\ud83c\udde6","\ud83c\uddf8\ud83c\uddec","\ud83c\uddf9\ud83c\uddf7","\ud83c\uddf5\ud83c\udded","\ud83c\uddeb\ud83c\uddee","\ud83c\udde8\ud83c\uddf1","\ud83c\udde8\ud83c\udded","\ud83c\uddf8\ud83c\uddea","\ud83c\uddff\ud83c\udde6"]}],De=n(382),Le=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onChange,n=e.onBackspace;return Object(v.jsxs)("div",{className:"EmojiKeyboard__outer",children:[Object(v.jsx)("div",{className:"EmojiKeyboard__keyboard",children:Object(v.jsx)(ye,{children:Object(v.jsxs)("div",{className:"EmojiKeyboard",children:[we.map((function(e){return Object(v.jsx)(h.m,{header:Object(v.jsx)(h.n,{mode:"secondary",children:e.title}),children:e.value.map((function(e){return Object(v.jsx)("div",{className:"Keyboard_emoji",onClick:function(){return t&&t(e)},children:e},"emoji_".concat(e))}))},"group_".concat(e.title))})),Object(v.jsx)("div",{className:"EmojiKeyboard__separator"})]})})}),Object(v.jsx)("div",{className:"EmojiKeyboard__footer",children:Object(v.jsx)(h.H,{className:"EmojiKeyboard__backspace",onClick:function(){return n&&n()},children:Object(v.jsx)(De.a,{})})})]})}}]),n}(s.Component),Ge=n(383),Be=n(384),He=function(e,t){var n=(e=Math.abs(e)%100)%10;return e>10&&e<20?t[2]:n>1&&n<5?t[1]:1===n?t[0]:t[2]},Ue=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.dataStories,c=[{name:"\u0434\u043e 18",value:"18"},{name:"18-24",value:"18-24"},{name:"25-34",value:"25-34"},{name:"35-44",value:"35-44"},{name:"45 +",value:"45"}];return Object(v.jsxs)(h.r,{id:this.props.id,separator:!1,children:[Object(v.jsx)(h.s,{separator:!1,children:Object(v.jsx)(h.v,{aside:"",status:"\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u043e\u0435 \u043e\u0431\u0449\u0435\u043d\u0438\u0435",before:Object(v.jsx)(v.Fragment,{}),children:"\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"})}),Object(v.jsx)("div",{className:"Menu",children:Object(v.jsxs)("div",{className:"Menu__in",children:[Object(v.jsxs)("div",{style:{margin:"0 12px"},children:[Object(v.jsxs)(h.m,{header:Object(v.jsx)(h.n,{mode:"secondary",children:"\u0412\u042b:"}),children:[Object(v.jsx)(h.C,{onSwitch:function(e){return n("SET_USER_PARAM",{key:"mySex",value:e})},activeValue:this.props.mySex||"anonim",focusVisible:!1,options:[{name:"\u0410\u043d\u043e\u043d\u0438\u043c",value:"anonim"},{name:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",value:"male"},{name:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",value:"female"}]}),Object(v.jsx)("div",{style:{height:"20px",width:"100%"}}),Object(v.jsx)(h.C,{onSwitch:function(e){return n("SET_USER_PARAM",{key:"myAge",value:e})},disabled:"anonim"===this.props.mySex,activeValue:this.props.myAge||"18",focusVisible:!1,options:c})]}),Object(v.jsxs)(h.m,{header:Object(v.jsx)(h.n,{mode:"secondary",children:"\u0421\u041e\u0411\u0415\u0421\u0415\u0414\u041d\u0418\u041a :"}),children:[Object(v.jsx)(h.C,{onSwitch:function(e){return n("SET_USER_PARAM",{key:"searchSex",value:e})},activeValue:this.props.searchSex||"male",disabled:"anonim"===this.props.mySex,focusVisible:!1,options:[{name:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",value:"male"},{name:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",value:"female"}]}),Object(v.jsx)("div",{style:{height:"20px",width:"100%"}}),Object(v.jsx)(h.C,{onSwitch:function(e){return n("SET_USER_PARAM",{key:"searchAge",value:e})},disabled:"anonim"===this.props.mySex,activeValue:this.props.searchAge||"18",focusVisible:!1,options:c})]})]}),Object(v.jsx)(h.j,{}),Object(v.jsx)(h.A,{}),Object(v.jsx)("div",{className:"StartSearchBox",children:Object(v.jsx)(h.j,{children:Object(v.jsx)(h.f,{disabled:!this.props.client,"aria-label":"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430",size:"xl",style:{backgroundColor:"var(--text_muted)"},onClick:function(){var t;null===(t=e.props.client)||void 0===t||t.emit("OPEN_SEARCH",{mySex:e.props.mySex,searchSex:e.props.searchSex,myAge:e.props.myAge,searchAge:e.props.searchAge}),n("POPOUT",{popout:Object(v.jsx)(Tt,{})})},children:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430"})})})]})}),Object(v.jsxs)(h.l,{className:"Menu__footer",children:[this.props.onlineUser?"\u0412 \u0447\u0430\u0442\u0435 ".concat(this.props.onlineUser," ").concat(He(this.props.onlineUser,["\u0447\u0435\u043b\u043e\u0432\u0435\u043a","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430","\u0447\u0435\u043b\u043e\u0432\u0435\u043a"])):"",Object(v.jsx)("div",{className:"Settings__buttom",onClick:function(){n("NEXT_PAGE",{panel:"Settings"})},children:Object(v.jsx)(Ge.a,{})}),r&&Object(v.jsx)("div",{className:"Stories__buttom",onClick:function(){n("ALL",{stories:Object(v.jsx)(h.F,{data:r,startIndex:0,onClose:function(){return n("ALL",{stories:void 0})}})})},children:Object(v.jsx)(h.H,{children:Object(v.jsx)(Be.a,{})})})]})]})}}]),n}(s.Component),Ke=Object(u.a)(Ue),ze=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(v.jsxs)(h.c,{actions:[{title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",autoclose:!0,mode:"cancel"}],onClose:function(){e.props.action("CHAT_CLEAR",{}),e.props.action("POPOUT",{popout:void 0}),e.props.action("BACK_PAGE",{miss:!0})},children:[Object(v.jsx)("h2",{children:"\u0421\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a \u043f\u043e\u043a\u0438\u043d\u0443\u043b \u0447\u0430\u0442"}),Object(v.jsx)("p",{children:"\u0421\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a \u043f\u043e\u043a\u0438\u043d\u0443\u043b \u0447\u0430\u0442. \u0411\u0435\u0441\u0435\u0434\u0430 \u0431\u044b\u043b\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430!"})]})},e}return n}(s.Component),Ve=Object(u.a)(ze),Fe=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.action,n=e.checkWakeLock,r=e.checkGreeting,c=e.checkVibration,a=e.platform;return Object(v.jsxs)("div",{style:{margin:"6px"},id:"Others_settings_app",children:[a!=h.p&&Object(v.jsx)(h.i,{asideContent:Object(v.jsx)(h.G,{checked:n,onChange:function(e){return t("CHECK_WAKE_LOCK",{value:e.target.checked})}}),description:"\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u0441\u043f\u044f\u0449\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0442\u043e\u0433\u0434\u0430 \u043a\u043e\u0433\u0434\u0430 \u0441\u0435\u0440\u0432\u0438\u0441 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u043d\u0435\u043c \u043f\u043b\u0430\u043d\u0435",children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u043f\u044f\u0449\u0438\u0439 \u0440\u0435\u0436\u0438\u043c"}),b.a.supports("VKWebAppAccelerometerStart")&&Object(v.jsx)(h.i,{asideContent:Object(v.jsx)(h.G,{checked:r||!1,onChange:function(e){return t("CHECK_GREETING",{value:e.target.checked})}}),description:'\u0411\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 "\u041f\u0440\u0438\u0432\u0435\u0442" \u043f\u0440\u0438 \u0432\u0441\u0442\u0440\u044f\u0445\u0438\u0432\u0430\u043d\u0438\u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430',children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f"}),b.a.supports("VKWebAppTapticNotificationOccurred")&&Object(v.jsx)(h.i,{asideContent:Object(v.jsx)(h.G,{checked:c||!1,onChange:function(e){return t("CHECK_VIBRATION",{value:e.target.checked})}}),children:"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0438\u0431\u0440\u0430\u0446\u0438\u044e"})]})}}]),n}(s.Component),We=Object(u.a)(d()(Fe)),$e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return new Promise((function(r,c){t().then(r).catch((function(){setTimeout((function(){return e(t).then(r,c)}),n)}))}))},Je=Object(s.lazy)((function(){return $e((function(){return n.e(4).then(n.bind(null,394))}))})),Ze=Object(s.lazy)((function(){return $e((function(){return n.e(5).then(n.bind(null,395))}))})),Xe=Object(s.lazy)((function(){return $e((function(){return n.e(6).then(n.bind(null,396))}))})),qe=Object(s.lazy)((function(){return $e((function(){return n.e(16).then(n.bind(null,397))}))})),Ye=Object(s.lazy)((function(){return $e((function(){return n.e(17).then(n.bind(null,398))}))})),Qe=Object(s.lazy)((function(){return $e((function(){return n.e(18).then(n.bind(null,399))}))})),et=Object(s.lazy)((function(){return $e((function(){return n.e(19).then(n.bind(null,400))}))})),tt=Object(s.lazy)((function(){return $e((function(){return n.e(20).then(n.bind(null,401))}))})),nt=Object(s.lazy)((function(){return $e((function(){return n.e(21).then(n.bind(null,402))}))})),rt=Object(s.lazy)((function(){return $e((function(){return n.e(22).then(n.bind(null,403))}))})),ct=Object(s.lazy)((function(){return $e((function(){return n.e(23).then(n.bind(null,404))}))})),at=Object(s.lazy)((function(){return $e((function(){return n.e(7).then(n.bind(null,405))}))})),ot=Object(s.lazy)((function(){return $e((function(){return n.e(8).then(n.bind(null,406))}))})),st=Object(s.lazy)((function(){return $e((function(){return n.e(9).then(n.bind(null,407))}))})),it=Object(s.lazy)((function(){return $e((function(){return n.e(10).then(n.bind(null,408))}))})),ut=Object(s.lazy)((function(){return $e((function(){return n.e(11).then(n.bind(null,409))}))})),lt=Object(s.lazy)((function(){return $e((function(){return n.e(12).then(n.bind(null,410))}))})),dt=Object(s.lazy)((function(){return $e((function(){return n.e(13).then(n.bind(null,411))}))})),jt=Object(s.lazy)((function(){return $e((function(){return n.e(14).then(n.bind(null,412))}))})),bt=Object(s.lazy)((function(){return $e((function(){return n.e(15).then(n.bind(null,413))}))})),ht=Object(s.lazy)((function(){return $e((function(){return n.e(24).then(n.bind(null,414))}))})),pt=Object(s.lazy)((function(){return $e((function(){return n.e(25).then(n.bind(null,415))}))})),ft=Object(s.lazy)((function(){return $e((function(){return n.e(26).then(n.bind(null,416))}))})),Ot=Object(s.lazy)((function(){return $e((function(){return n.e(27).then(n.bind(null,417))}))})),mt=Object(s.lazy)((function(){return $e((function(){return n.e(28).then(n.bind(null,418))}))})),vt=["Free_0","Free_1","Free_2","Free_3","Free_4"],_t=["Pattern_0","Pattern_1","Pattern_2","Pattern_3","Pattern_4","Pattern_5","Pattern_6","Pattern_7","Pattern_8","Pattern_9","Pattern_10","Pattern_11","Pattern_12","Pattern_13","Pattern_14","Pattern_15","Pattern_16","Pattern_17","Pattern_18"],gt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.donut;return Object(v.jsx)(s.Suspense,{fallback:Object(v.jsx)("div",{className:"Lazy__spinner",children:Object(v.jsx)(h.E,{size:"medium",style:{marginTop:20}})}),children:"donut"===t&&!n&&Object(v.jsx)("div",{className:"Donut_by_donut",children:Object(v.jsx)(Je,{})})||"Pattern_0"===t&&n&&Object(v.jsx)(Ze,{})||"Pattern_1"===t&&n&&Object(v.jsx)(Xe,{})||"Pattern_2"===t&&n&&Object(v.jsx)(qe,{})||"Pattern_3"===t&&n&&Object(v.jsx)(Ye,{})||"Pattern_4"===t&&n&&Object(v.jsx)(Qe,{})||"Pattern_5"===t&&n&&Object(v.jsx)(et,{})||"Pattern_6"===t&&n&&Object(v.jsx)(tt,{})||"Pattern_7"===t&&n&&Object(v.jsx)(nt,{})||"Pattern_8"===t&&n&&Object(v.jsx)(rt,{})||"Pattern_9"===t&&n&&Object(v.jsx)(ct,{})||"Pattern_10"===t&&n&&Object(v.jsx)(at,{})||"Pattern_11"===t&&n&&Object(v.jsx)(ot,{})||"Pattern_12"===t&&n&&Object(v.jsx)(st,{})||"Pattern_13"===t&&n&&Object(v.jsx)(it,{})||"Pattern_14"===t&&n&&Object(v.jsx)(ut,{})||"Pattern_15"===t&&n&&Object(v.jsx)(lt,{})||"Pattern_16"===t&&n&&Object(v.jsx)(dt,{})||"Pattern_17"===t&&n&&Object(v.jsx)(jt,{})||"Pattern_18"===t&&n&&Object(v.jsx)(bt,{})||"Free_0"===t&&Object(v.jsx)(ht,{})||"Free_1"===t&&Object(v.jsx)(pt,{})||"Free_2"===t&&Object(v.jsx)(ft,{})||"Free_3"===t&&Object(v.jsx)(Ot,{})||"Free_4"===t&&Object(v.jsx)(mt,{})})}}]),n}(s.Component),xt=Object(u.a)(gt),kt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.scheme,n=e.selected,r=e.first,c=e.onClick,a={auto:{background:"#ffffff",lBackground:"#ffffff",rBackground:"#19191a",youMessage:"#e1e3e6",lMyMessage:"#cce4ff",rMyMessage:"#454647"},space_gray:{background:"#19191a",lBackground:"#19191a",rBackground:"#19191a",youMessage:"#2c2d2e",lMyMessage:"#454647",rMyMessage:"#454647"},client_light:{background:"#ffffff",lBackground:"#ffffff",rBackground:"#ffffff",youMessage:"#e1e3e6",lMyMessage:"#cce4ff",rMyMessage:"#cce4ff"},blue_scheme:{background:"#141d24",lBackground:"#141d24",rBackground:"#141d24",youMessage:"#222c38",lMyMessage:"#3b5d80",rMyMessage:"#3b5d80"},dark_scheme:{background:"#1a1b1d",lBackground:"#1a1b1d",rBackground:"#1a1b1d",youMessage:"#292a2e",lMyMessage:"#505962",rMyMessage:"#505962"},purple_scheme:{background:"#0d0d0d",lBackground:"#0d0d0d",rBackground:"#0d0d0d",youMessage:"#222222",lMyMessage:"#7a429b",rMyMessage:"#7a429b"},light_purple_scheme:{background:"#d8b9e2",lBackground:"#d8b9e2",rBackground:"#d8b9e2",youMessage:"#ffffff",lMyMessage:"#f7edf6",rMyMessage:"#f7edf6"}};return Object(v.jsx)(h.g,{className:"PreviewSheme",style:{background:a[t].background},children:Object(v.jsxs)("div",{onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return c()})),children:[Object(v.jsx)("div",{style:{position:"absolute",border:"43px solid transparent",borderRight:"33px solid ".concat(a[t].lBackground),borderBottom:"57px solid ".concat(a[t].lBackground)}}),Object(v.jsx)("div",{style:{position:"absolute",border:"43px solid transparent",borderRight:"33px solid ".concat(a[t].rBackground),borderBottom:"57px solid ".concat(a[t].rBackground),zIndex:2}}),Object(v.jsx)("div",{className:"PreviewSheme__message_you",style:{background:a[t].youMessage}}),Object(v.jsx)("div",{className:"PreviewSheme__message_my",style:{background:a[t].lMyMessage}}),Object(v.jsx)("div",{className:"PreviewSheme__message_my",style:{zIndex:3,margin:"29px 0 0 ".concat(r?"30px":"29px")},children:Object(v.jsx)("div",{className:"PreviewSheme__message_my_negative",style:{borderBottom:"32px solid ".concat(a[t].rMyMessage),borderLeft:"24px solid transparent"}})}),Object(v.jsx)("div",{className:"PreviewSheme__indicator",children:n&&Object(v.jsx)(P.a,{height:20,width:20})})]})})}}]),n}(s.Component),yt=Object(u.a)(kt),St=n(385),Ct=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).isLeave=!1,e.leaveChat=function(){e.isLeave=!0},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.action;return Object(v.jsx)(h.D,{layout:"vertical",onClose:function(){return e("SNACKBAR",{snackbar:void 0})},before:Object(v.jsx)(h.d,{size:24,style:{backgroundColor:"var(--accent)"},children:Object(v.jsx)(St.a,{fill:"#fff",width:14,height:14})}),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b"})}}]),n}(s.Component),At=Object(u.a)(Ct),Et=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(v.jsxs)(h.c,{className:"Alert--custom",actions:[{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:function(){var t;e.props.action("POPOUT",{popout:void 0}),null===(t=e.props.client)||void 0===t||t.emit("CLOSE_SEARCH")},children:[Object(v.jsx)(h.E,{size:"large",style:{margin:"10px 0 20px 0",color:"var(--text_subhead)"}}),Object(v.jsx)("h2",{children:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430"}),Object(v.jsx)("p",{children:"\u0418\u0434\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u0430. \u041d\u0435 \u0441\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0435\u0440\u0432\u0438\u0441 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u0438\u0441\u043a\u0430."})]})},e}return n}(s.Component),Tt=Object(u.a)(Et),Nt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).componentDidMount=function(){return c.sinhronizationParam()},c.sinhronizationParam=function(){c.setState({wakeLock:c.props.checkWakeLock,greeting:c.props.checkGreeting,vibration:c.props.checkVibration})},c.state={},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.action,n=e.colorBackground,r=e.intensityBackground,c=e.background,a=n||"var(--im_bubble_outgoing)";return Object(v.jsxs)(h.r,{id:this.props.id,className:"Chat",separator:!1,children:[Object(v.jsx)(h.k,{vertical:"top",children:Object(v.jsx)(h.s,{left:Object(v.jsx)(h.t,{onClick:function(){t("BACK_PAGE",{})}}),children:Object(v.jsx)(h.v,{aside:"",status:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0444\u043e\u043d\u0430 \u0447\u0430\u0442\u0430",before:Object(v.jsx)(v.Fragment,{}),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})}),Object(v.jsxs)("div",{className:"Chat__in",children:[Object(v.jsxs)("div",{className:"Chat__message",children:[Object(v.jsxs)("div",{className:"Chat__background",style:{color:"".concat(a),opacity:"".concat((Number(r)||100)/100)},children:[" ",c&&Object(v.jsx)(xt,{name:c})]}),Object(v.jsxs)("div",{className:"PreviewMessageBox",children:[Object(v.jsx)("div",{style:{height:"var(--panelheader_height_ios)"}}),Object(v.jsx)("div",{className:"Chat__item",children:Object(v.jsxs)("div",{className:"Item__message lonely-you you",children:["\u0413\u0434\u0435 \u044d\u0442\u043e \u043c\u044b?",Object(v.jsx)("div",{className:"Item__time",children:"19:30"})]})},"item_one_ms"),Object(v.jsx)("div",{className:"Chat__item",children:Object(v.jsxs)("div",{className:"Item__message lonely-my my",children:["\u042d\u0442\u043e \u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439 \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440 \u0432 \u0412\u041a! \ud83d\ude04",Object(v.jsx)("div",{className:"Item__time",children:"19:31"})]})},"item_two_ms")]})]}),Object(v.jsx)("div",{className:"Chat__emoji Separator__top IOS__padding_bottom",children:Object(v.jsx)(I,{})})]})]})}}]),n}(s.Component),Mt=Object(u.a)(Nt),It=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).componentDidMount=function(){return c.sinhronizationParam()},c.sinhronizationParam=function(){c.setState({scheme:c.props.sheme||"auto",size:c.props.textSize||16,backgroundChat:c.props.background,wakeLock:c.props.checkWakeLock,greeting:c.props.checkGreeting,vibration:c.props.checkVibration})},c.state={},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.sheme,c=t.textSize,a=t.background,o=this.state,s=o.scheme,i=o.size,u=o.backgroundChat;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.r,{id:this.props.id,separator:!1,children:[Object(v.jsx)(h.s,{left:Object(v.jsx)(h.t,{onClick:function(){n("BACK_PAGE",{})}}),children:Object(v.jsx)(h.v,{aside:"",status:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",before:Object(v.jsx)(v.Fragment,{}),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(v.jsx)("div",{className:"AutoHeight",children:Object(v.jsxs)(ye,{children:[Object(v.jsx)(Ie,{}),Object(v.jsx)(Lt,{}),Object(v.jsx)(Ht,{}),Object(v.jsx)(Ne,{}),Object(v.jsx)("div",{style:{height:"70px"}})]})})]}),(s!==r||i!==c||u!==a)&&Object(v.jsxs)("div",{className:"SettingSave",children:[Object(v.jsx)(h.A,{}),Object(v.jsx)(h.j,{children:Object(v.jsx)(h.f,{size:"xl",mode:"secondary",onClick:function(){n("SETTING_SAVE",{size:e.props.textSize,sheme:e.props.sheme,background:e.props.background,wakeLock:e.props.checkWakeLock,greeting:e.props.checkGreeting,vibration:e.props.checkVibration,color:e.props.colorBackground,intensity:e.props.intensityBackground}),n("SNACKBAR",{snackbar:Object(v.jsx)(At,{})}),e.sinhronizationParam()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})}}]),n}(s.Component),Pt=Object(u.a)(It),Rt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).componentDidMount=function(){return c.sinhronizationParam()},c.sinhronizationParam=function(){c.setState({wakeLock:c.props.checkWakeLock,greeting:c.props.checkGreeting,vibration:c.props.checkVibration})},c.state={},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.action,r=t.checkWakeLock,c=t.checkGreeting,a=t.checkVibration,o=this.state,s=o.wakeLock,i=o.greeting,u=o.vibration;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(h.r,{id:this.props.id,separator:!1,children:[Object(v.jsx)(h.s,{left:Object(v.jsx)(h.t,{onClick:function(){n("BACK_PAGE",{})}}),children:Object(v.jsx)(h.v,{aside:"",status:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f",before:Object(v.jsx)(v.Fragment,{}),children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(v.jsx)(We,{})]}),(s!==r||i!==c||u!==a)&&Object(v.jsxs)("div",{className:"SettingSave",children:[Object(v.jsx)(h.A,{}),Object(v.jsx)(h.j,{children:Object(v.jsx)(h.f,{size:"xl",mode:"secondary",onClick:function(){n("SETTING_SAVE",{size:e.props.textSize,sheme:e.props.sheme,background:e.props.background,wakeLock:e.props.checkWakeLock,greeting:e.props.checkGreeting,vibration:e.props.checkVibration,color:e.props.colorBackground,intensity:e.props.intensityBackground}),n("SNACKBAR",{snackbar:Object(v.jsx)(At,{})}),e.sinhronizationParam()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})}}]),n}(s.Component),wt=Object(u.a)(Rt),Dt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sheme,n=e.donut,r=e.action;return Object(v.jsx)(h.m,{header:Object(v.jsx)(h.n,{mode:"secondary",children:"\u0426\u0432\u0435\u0442\u043e\u0432\u0430\u044f \u0441\u0445\u0435\u043c\u0430"}),children:Object(v.jsxs)(h.h,{children:[Object(v.jsx)(yt,{selected:"auto"===t,first:!0,scheme:"auto",onClick:function(){r("UPDATE_SHEME",{sheme:"auto"}),b.a.send("VKWebAppInit")}}),Object(v.jsx)(yt,{selected:"space_gray"===t,scheme:"space_gray",onClick:function(){return r("UPDATE_SHEME",{sheme:"space_gray"})}}),Object(v.jsx)(yt,{selected:"client_light"===t,scheme:"client_light",onClick:function(){return r("UPDATE_SHEME",{sheme:"client_light"})}}),Object(v.jsx)(yt,{selected:"blue_scheme"===t,scheme:"blue_scheme",onClick:function(){return r("UPDATE_SHEME",{sheme:"blue_scheme"})}}),Object(v.jsx)(yt,{selected:"dark_scheme"===t,scheme:"dark_scheme",onClick:function(){return r("UPDATE_SHEME",{sheme:"dark_scheme"})}}),n&&Object(v.jsx)(yt,{selected:"purple_scheme"===t,scheme:"purple_scheme",onClick:function(){return r("UPDATE_SHEME",{sheme:"purple_scheme"})}}),n&&Object(v.jsx)(yt,{selected:"light_purple_scheme"===t,scheme:"light_purple_scheme",onClick:function(){return r("UPDATE_SHEME",{sheme:"light_purple_scheme"})}})]})})}}]),n}(s.Component),Lt=Object(u.a)(Dt),Gt=n(386),Bt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).previewDialog=[[{author:"you",time:"19:37",text:"\u042f \u0445\u043e\u0447\u0443 \u0431\u044b\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u043c \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u043e\u043c, \u043a\u0430\u043a \u041c\u0430\u0433\u0435\u043b\u043b\u0430\u043d."},{author:"my",time:"19:38",text:"\u0422\u044b \u043e\u043f\u043e\u0437\u0434\u0430\u043b. \u0423\u0436\u0435 \u0432\u0441\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u043e."}],[{author:"you",time:"19:37",text:"\u042f \u0445\u043e\u0447\u0443 \u0431\u044b\u0442\u044c \u0432\u0435\u043b\u0438\u043a\u0438\u043c \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u0438\u043a\u043e\u043c, \u043a\u0430\u043a \u041c\u0430\u0433\u0435\u043b\u043b\u0430\u043d."},{author:"my",time:"19:38",text:"\u0422\u044b \u043e\u043f\u043e\u0437\u0434\u0430\u043b. \u0423\u0436\u0435 \u0432\u0441\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u043e."}]],c.componentDidMount=function(){return c.randomDialog()},c.randomDialog=function(){var e=c.state.index,t=Math.floor(Math.random()*c.previewDialog.length);e===t?c.randomDialog():c.setState({index:t,show:!0})},c.state={index:0,show:!1},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.action,n=e.textSize,r=e.colorBackground,c=e.intensityBackground,a=e.background,o=r||"var(--im_bubble_outgoing)";return Object(v.jsxs)(h.m,{header:Object(v.jsx)(h.n,{mode:"secondary",children:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0442\u0435\u043a\u0441\u0442\u0430 \u0432 \u0447\u0430\u0442\u0435"}),children:[Object(v.jsxs)("div",{style:{marginTop:"12px"},children:[Object(v.jsxs)("div",{className:"Flex",children:[Object(v.jsx)(h.B,{step:1,min:13,max:27,value:Number(n||16),onChange:function(){var e=Object(N.a)(T.a.mark((function e(n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t("SET_TEXT_SIZE",{size:n}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),top:"Step [0, 1]"}),Object(v.jsx)("div",{className:"Slider__indicator",children:Number(n||16)})]}),Object(v.jsxs)("div",{className:"PreviewMessageBox",style:{zIndex:2,margin:"12px 0px"},children:[Object(v.jsxs)("div",{className:"Chat__background",style:{color:"".concat(o),opacity:"".concat((Number(c)||100)/100)},children:[" ",a&&Object(v.jsx)(xt,{name:a})]}),this.state.show&&this.previewDialog[this.state.index].map((function(e,t){return Object(v.jsx)("div",{className:"Chat__item",children:Object(v.jsxs)("div",{className:"Item__message lonely-".concat(e.author," ").concat(e.author),children:[e.text,Object(v.jsx)("div",{className:"Item__time",children:e.time})]})},"item_".concat(t))}))]})]}),Object(v.jsx)(h.i,{before:Object(v.jsx)(Gt.a,{}),onClick:function(){return t("NEXT_PAGE",{panel:"SettingBackground"})},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u043d \u0447\u0430\u0442\u0430"})]})}}]),n}(s.Component),Ht=Object(u.a)(Bt),Ut=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e))._timer=void 0,c.componentDidMount=function(){c._timer=window.setTimeout((function(){var e=c.props.client;c.setState({isWindow:!0}),null===e||void 0===e||e.disconnect()}),1e4)},c.componentWillUnmount=function(){window.clearTimeout(c._timer)},c.state={isWindow:!1},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state.isWindow;return Object(v.jsxs)(v.Fragment,{children:[t&&Object(v.jsxs)(h.c,{actions:[{title:"\u041f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435",autoclose:!0,mode:"cancel"}],onClose:function(){var t;e.props.action("POPOUT",{popout:void 0}),null===(t=e.props.client)||void 0===t||t.connect()},children:[Object(v.jsx)("h2",{children:"\u0421\u0432\u044f\u0437\u044c \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u0430"}),Object(v.jsx)("p",{children:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e."})]}),!t&&Object(v.jsx)(h.z,{})]})}}]),n}(s.Component),Kt=Object(u.a)(Ut),zt=n(387),Vt=n(388),Ft=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e))._timer=void 0,c.state={banedCount:1},c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.client,n=this.state.banedCount;return Object(v.jsxs)(h.c,{actions:[{title:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c",autoclose:!0,mode:"default",action:function(){return t&&t.emit("BLOCKED",n)}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:function(){e.props.action("POPOUT",{popout:void 0})},children:[Object(v.jsx)("h2",{children:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0430 :"}),Object(v.jsxs)("div",{className:"BanedUser",children:[Object(v.jsx)(h.H,{onClick:function(){return e.setState({banedCount:n-1<=0?1:n-1})},children:Object(v.jsx)(zt.a,{})}),Object(v.jsx)("span",{children:n}),Object(v.jsx)(h.H,{onClick:function(){return e.setState({banedCount:n+1})},children:Object(v.jsx)(Vt.a,{})})]}),Object(v.jsx)("p",{})]})}}]),n}(s.Component),Wt=Object(u.a)(Ft),$t=n(389),Jt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e){var c;return Object(r.a)(this,n),(c=t.call(this,e)).element=void 0,c._timer=void 0,c.onClose=function(){c.setState({closing:!0}),c._timer=window.setTimeout((function(){c.props.action("POPOUT",{popout:void 0})}),300)},c.state={closing:!1},c.element=i.a.createRef(),c}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.noclose,r=t.style,c=t.className,a=t.children,o=this.state.closing,s={opacity:o?0:1,transform:"scale(".concat(o?.9:1,")"),transition:".15s"};return Object(v.jsx)(h.y,{className:c,closing:o,style:r,onClick:function(){return e.onClose()},children:Object(v.jsxs)("div",{className:"Baner",ref:this.element,style:s,onClick:function(e){return e.stopPropagation()},children:[!n&&Object(v.jsx)("div",{className:"Baner__close",children:Object(v.jsx)(h.H,{onClick:function(){return e.onClose()},children:Object(v.jsx)($t.a,{})})}),a]})})}}]),n}(s.Component),Zt=Object(u.a)(Jt),Xt=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).isLeave=!1,e.leaveChat=function(){e.isLeave=!0},e.render=function(){return Object(v.jsxs)(h.c,{actions:[{title:"\u0414\u0430",autoclose:!0,mode:"default",action:function(){return e.leaveChat()}},{title:"\u041d\u0435\u0442",autoclose:!0,mode:"cancel"}],onClose:function(){window.setTimeout((function(){var t,n;e.isLeave&&(null===(t=e.props.client)||void 0===t||t.emit("COMPLAINT"),!e.props.donut&&b.a.send("VKWebAppShowNativeAds",{ad_format:"reward"}).then((function(e){})).catch((function(e){})),e.props.action("CHAT_CLEAR",{}),e.props.action("BACK_PAGE",{miss:!0}),null===(n=e.props.client)||void 0===n||n.emit("CLOSE_DIALOG"));e.props.action("POPOUT",{popout:void 0})}),50)},children:[Object(v.jsx)("h2",{children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443"}),Object(v.jsx)("p",{children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0436\u0430\u043b\u043e\u0431\u0443 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f? \u0416\u0430\u043b\u043e\u0431\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442 \u0431\u0435\u0441\u0435\u0434\u0443 \u0441 \u0441\u043e\u0431\u0435\u0441\u0435\u0434\u043d\u0438\u043a\u043e\u043c \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u043d\u0438\u0446\u0438\u0430\u0442\u043e\u0440\u043e\u043c \u0435\u0433\u043e \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438!"})]})},e}return n}(s.Component),qt=Object(u.a)(Xt)},358:function(e,t,n){},359:function(e,t,n){"use strict";n.r(t);n(217),n(246),n(248),n(249),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288);var r=n(39),c=n.n(r),a=n(52),o=n(17),s=n.n(o),i=n(78),u=n(73),l=n.n(u),d=n(54),j=n(154),b=n(79),h=n(49),p=n(28),f=n.n(p),O=n(34),m=n(1),v={chat:[],appStory:[{view:"Chat",panel:"Filter",page:0,modal:"",value:0}],activeView:"Chat",activePanel:"Filter",activePage:0,activeModal:"",valueModal:0,chat_keyboard:!1,chat_attach:!1,chat_emoji:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"ALL":return f()(e,Object(h.a)({},r.key,{$set:r.value}));case"CHECK_WAKE_LOCK":return f()(e,{checkWakeLock:{$set:r}});case"CHECK_GREETING":return f()(e,{checkGreeting:{$set:r}});case"CHECK_VIBRATION":return f()(e,{checkVibration:{$set:r}});case"SNACKBAR":return f()(e,{snackbar:{$set:r}});case"UPDATE_SHEME":return f()(e,{sheme:{$set:r}});case"SET_TEXT_SIZE":return f()(e,{textSize:{$set:r}});case"SET_COUNT_ONLINE_USER":return f()(e,{onlineUser:{$set:r}});case"TITLE_CHAT":return f()(e,{titleChat:{$set:r}});case"CHAT_CLEAR":return f()(e,{chat:{$set:[]}});case"MESSAGE_ADD":return f()(e,{chat:{$push:[r.message]}});case"INIT_CLIENT":return f()(e,{client:{$set:r.client}});case"POPOUT":return f()(e,{popout:{$set:"CloseDialog"===r?Object(m.jsx)(O.j,{}):r}});case"SENDING":return f()(e,{sending:{$set:r}});case"SET_USER_PARAM":return f()(e,Object(h.a)({},r.key,{$set:r.value}));case"SEND_IMAGE":return f()(e,{attach:{$set:r.attach}});case"CHAT_STATE":return f()(e,{chat_keyboard:{$set:r.keyboard},chat_attach:{$set:r.attach},chat_emoji:{$set:r.emoji}});case"GET_USER_PARAM":return f()(e,{mySex:{$set:r.mySex},searchSex:{$set:r.searchSex},myAge:{$set:r.myAge},searchAge:{$set:r.searchAge},textSize:{$set:r.settingTextSize},checkWakeLock:{$set:"true"===r.settingWakeLock},checkGreeting:{$set:"true"===r.settingGreeting},checkVibration:{$set:"true"===r.settingVibration},background:{$set:r.settingBackground},colorBackground:{$set:r.settingColor},intensityBackground:{$set:r.settingIntensity}});case"NEXT_PAGE":var c=r.save?[].concat(Object(b.a)(e.appStory),[r.activeState]):[r.activeState];return f()(e,{activeView:{$set:r.activeState.view},activePanel:{$set:r.activeState.panel},activePage:{$set:r.activeState.page},activeModal:{$set:r.activeState.modal},valueModal:{$set:r.activeState.value},appStory:{$set:c}});case"BACK_PAGE":return f()(e,{activeView:{$set:r.view},activePanel:{$set:r.panel},activePage:{$set:r.page},activeModal:{$set:r.modal},valueModal:{$set:r.value},appStory:{$set:r.appStory}});default:return e}},g=Object(d.c)({app:_}),x=Object(d.e)(g,{},Object(d.d)(Object(d.a)(j.a))),k=n(167);s.a.subscribe(function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,a,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0,e.t0=t.detail.type,e.next="VKWebAppUpdateConfig"===e.t0?4:36;break;case 4:return e.next=6,s.a.send("VKWebAppStorageGet",{keys:["settingSheme"]});case 6:if(a=e.sent,o="auto"===document.body.getAttribute("scheme_auto")?t.detail.data.scheme:"auto"===(null===(n=a.keys[0])||void 0===n?void 0:n.value)?t.detail.data.scheme?t.detail.data.scheme:"client_light":null===(r=a.keys[0])||void 0===r?void 0:r.value,document.body.setAttribute("scheme",o),document.body.setAttribute("scheme_auto",""),!s.a.supports("VKWebAppSetViewSettings")){e.next=35;break}i="dark",u="#ffff",e.t1=o,e.next="space_gray"===e.t1?16:"client_light"===e.t1?19:"blue_scheme"===e.t1?22:"dark_scheme"===e.t1?25:"light_purple_scheme"===e.t1?28:"purple_scheme"===e.t1?31:34;break;case 16:return i="light",u="#19191a",e.abrupt("break",34);case 19:return i="dark",u="#ffff",e.abrupt("break",34);case 22:return i="light",u="#141d24",e.abrupt("break",34);case 25:return i="light",u="#1a1b1d",e.abrupt("break",34);case 28:return i="dark",u="#ffff",e.abrupt("break",34);case 31:return i="light",u="#0d0d0d",e.abrupt("break",34);case 34:s.a.send("VKWebAppSetViewSettings",{status_bar_style:i,action_bar_color:u});case 35:return e.abrupt("break",37);case 36:return e.abrupt("return");case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l.a.render(Object(m.jsx)(i.a,{store:x,children:Object(m.jsx)(k.a,{})}),document.getElementById("root")),Promise.all([n.e(3),n.e(29)]).then(n.bind(null,393)).then((function(e){e.default}))},59:function(e,t,n){"use strict";t.a=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}));return t}}},[[359,1,2]]]);